(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[96],{"+tKw":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("Y+p1"),s=n.n(a),c=n("qD10");const l="__HashtagFlag__",d=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,u=(e,t)=>`/search/pins/?q=${encodeURIComponent(e)}&rs=${t}`;const p={hashtags:function(e,t){const n=t.appendText||"",o=t.source||"hashtag_pinrep";let r=[];const a=[],s={};let p=0;const b=e=>(t,n)=>{if(t===l&&a.length){const t=a.shift();return p+=1,Object(i.jsx)(c.a,{to:u(t,o),children:Object(i.jsx)("span",{className:"pinHashtag",children:t})},`hashtag-${e}.${n}`)}return t};for(let i=0;i<e.length;i+=1){const t=e[i];if("string"==typeof t){const e=t.replace(d,e=>(a.push(e),s[e]=!0,l)).split(new RegExp("(__HashtagFlag__)")).map(b(i));r=[...r,...e]}else r.push(t)}const h=[];return n&&n.replace(d,(e,t)=>(!s[e]&&p<4&&(p+=1,h.push(Object(i.jsxs)("span",{children:[" ",Object(i.jsx)(c.a,{to:u(e,o),children:Object(i.jsx)("span",{className:"pinHashtag",children:e})})]},"appended"+t)),s[e]=!0),e)),r=[...r,...h],r}};class b extends r.a.Component{shouldComponentUpdate(e){return!s()(this.props,e)}render(){const{text:e,options:t}=this.props;if("string"==typeof e&&""===e.trim())return e;let n=[e];for(const i of Object.keys(p))if(i in t){n=(0,p[i])(n,t[i])}return Object(i.jsx)("span",{children:n})}}},"0bYG":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},"1Fta":function(e,t,n){var i=n("kmwA"),o=n("pSsd");const r=e=>e.length>32?e.substring(0,32).trim()+"...":e;t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:a,pinner:s,promoter:c,recommendationReason:l,sourceInterest:d})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=l.board,p=a("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:b,url_name:h}=d,m=a("topicUrl","/topics/"+h,b);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:m});case"followed":const j="/"+s.username,g=a("boardUrl",i.url,r(i.name)),f=a("pinnerUrl",j,r(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:f}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:g});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=c,o=a("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=t&&t.type;return i&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:c})=>{const l="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:l,...a?{through_id:a}:{},...s?{through_properties:s}:{},...c?{client_tracking_params:c}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:r,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,c=r("topicUrl","/topics/"+a,i,!0),l=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:c});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:o.a},title:"",subTitle:l}}}else if("followed"===i&&n&&a){const{id:i,name:o,url:s}=n||{},{explicitly_followed_by_me:c,full_name:l,username:d}=a,u="/"+d,p=r("boardUrl",s,o,!0),b=r("pinnerUrl",u,l,!0);let h=c?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:b,formattedBoard:p}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return h=c?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:b}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:h}}return null}})},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=(n("q1tI"),n("4Utz")),r=n("n6mq");const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},c=s&&s.length>=3?s.slice(0,3):[];return Object(i.jsx)(r.e,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map(n=>{const s=n.images["750x"]||{},c=Object(i.jsx)(r.w,{alt:"",fit:"cover",naturalHeight:s.height,naturalWidth:s.width,src:s.url});return Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:Object(i.jsx)(r.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(i.jsx)(r.B,{height:"100%",wash:!0,width:"100%",children:t?Object(i.jsx)(o.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:n.id,pin:e,children:c}):c})})})},n.id)})})}},"4+TC":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("TSYQ"),s=n.n(a),c=n("Ye/N"),l=n("qD10"),d=n("n6mq");class u extends r.a.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isNewlySaved:t,shouldUseLegoStyles:n,name:o,url:r}=this.props;let a,u;if(!t||e||n){const e=n?Object(i.jsx)(d.U,{color:"white",size:"lg",weight:"bold",children:o.length<=8?o:o.substring(0,8).trim()+"..."}):Object(i.jsx)(d.t,{color:"white",size:"sm",truncate:!0,children:o});a=r?Object(i.jsx)(l.a,{to:r,children:e}):e}else a=Object(i.jsx)(d.U,{color:"white",children:Object(i.jsx)("span",{className:"deprecatedTextSizeXL",children:c.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return t&&(u=e?"board":"saved"),Object(i.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:n?16:void 0,paddingRight:n?16:void 0},className:n?s()("Lego__SavedPin",u):s()("SavedAnimation",u),children:a})}}t.a=u},"4Utz":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=(n("q1tI"),n("qD10")),r=n("FgHp"),a=n("0nTG"),s=n("Y8Sn"),c=n("U4JR"),l=n("QAzJ"),d=n("gD/Z");function u({additionalStyles:e={},children:t,collageChipId:n,componentType:u,contextLogData:p,elementType:b,pin:h,viewParameter:m,viewType:j}){const g=Object(d.b)(),{group:f}=Object(l.a)("web_preload_story_pin_video_in_feed"),{carousel_data:O,id:y,story_pin_data:x}=h;let _,w=`/pin/${n||y}/`;if(O){const{carousel_slots:e=[],id:t,index:n}=O;w=`/pin/${y}/`,_={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}_={..._||{},...Object(a.f)(h,p)||{}};return Object(i.jsx)(o.a,{auxData:_,onClick:()=>{x&&"enabled_click"===f&&Object(r.a)(x),Object(c.b)(101,{...p,component:u||g.componentType,element:b,objectId:y,view:j||g.viewType,viewParameter:m||g.viewParameter,...Object(a.f)(h,p)||{}}),Object(s.e)()&&Object(c.b)(8948,{closeup_navigation_type:"click",view:j||g.viewType,viewParameter:m||g.viewParameter,component:u||g.componentType,element:b,objectId:y,...p,...Object(a.f)(h,p)||{}})},pinId:y,style:{cursor:"zoom-in",display:"block",...e},to:w,children:t})}},5871:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("/MKj"),s=n("Nle8"),c=n("E/VT"),l=n("R6wO"),d=n("1Fta"),u=n("Ye/N"),p=n("qD10"),b=n("hFNL"),h=n("4cpq"),m=n("ANjH"),j=n("pSsd"),g=n("0bYG"),f=n("U4JR"),O=n("DJoW"),y=n("vvax"),x=n("n6mq"),_=n("eqXv"),w=n("EC67");function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={color:"white",textDecorationColor:"white"};class S extends r.a.Component{constructor(e){super(e),T(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})}),T(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:o}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let r,a,s;return n&&n.explicitly_followed_by_me?(r=n.image_small_url,a="50%",s="/"+n.username):e&&e.image_thumbnail_url&&(r=e.image_thumbnail_url,a="4px",s=o&&o.board&&o.board.url||e.url),r?Object(i.jsx)(x.e,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:Object(i.jsx)(x.T,{onTap:()=>this.props.history.push(s),children:Object(i.jsx)(x.B,{height:40,wash:!0,width:40,children:Object(i.jsx)(x.w,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})})})}):null}),T(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),T(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?u.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),T(this,"generateUndoHideCallback",(e,t)=>()=>{const{dispatch:n,pinId:i,viewType:o,viewParameter:r}=this.props,a={...e,undo:!0};let s=t;"unfollowPinner"===t?s="followPinner":"unfollowBoard"===t?s="followBoard":"unfollowTopic"===t&&(s="followTopic"),Object(_.a)(s,a),n(Object(O.b)(i)),Object(f.b)(101,{component:0,element:11181,view:o,viewParameter:r})}),T(this,"feedbackHelpers",Object(d.a)({i18n:u.a,interpolateNamedTemplate:y.b})),T(this,"makeNavigateLink",(e,t,n,o)=>{const r={display:"inline",...o?v:{}};return Object(i.jsx)(p.a,{className:"underlineLink",onClick:this.props.onLinkClick,to:t,children:Object(i.jsx)(x.e,{dangerouslySetInlineStyle:{__style:r},children:n})},e)}),T(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:u.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:u.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),T(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:a,actionOptions:c}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&g.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&this.getThroughId(),throughProperties:o&&this.getThroughProperties(),clientTrackingParams:Object(s.a)(i)}),l=u.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:c,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:u.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}}),T(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},a=r&&g.ReasonToChoose[r],c=i&&this.getThroughId(),l=i&&this.getThroughProperties(),d="pfyBoard"===t,{action:p,actionOptions:b}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:d?2:4,throughId:c,throughProperties:l,clientTrackingParams:Object(s.a)(n)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:p,actionOptions:b,feedbackText:{subTitle:d&&o?Object(y.b)(u.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):u.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:d&&o?Object(y.b)(u.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):u.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),T(this,"unfollowBoardOption",()=>{const{board:e}=this.props,t=e?this.makeNavigateLink("boardUrl",e.url,e.name,!0):"",n=Object(y.b)(u.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),i=Object(y.b)(u.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==e?void 0:e.id},feedbackText:{title:"",subTitle:i},text:n,description:Object(y.b)(u.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),elementType:10614}}),T(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:i}=e,o="/topics/"+i,r=this.makeNavigateLink("topicUrl",o,n,!0),a=Object(y.b)(u.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(y.b)(u.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:j.a},feedbackText:{title:"",subTitle:s},text:a,description:Object(y.b)(u.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),T(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o="/"+n,r=e?this.makeNavigateLink("pinnerUrl",o,i,!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(y.b)(u.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:Object(y.b)(u.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:u.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),T(this,"downloadPinOption",()=>({action:"downloadPin",text:u.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),T(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===t)&&!r,s=this.hidePinOption(a),c=this.reportPinOption(),l="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=(null==i?void 0:i.explicitly_followed_by_me)?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...a||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],c]};case"promoted":const{ad_match_reason:d}=this.props,p=[s,{link:this.feedbackHelpers.getLearnMoreUrl(d),text:u.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},c];return{description:this.getRecommendationDescription(),options:p};case"topic":const b=this.unfollowTopicOption(),h=[s,...a&&b?[b]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const m=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:m};default:const j=[s,...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:j}}}),T(this,"handleSecondaryFeedbackItemClick",(e,t)=>{const{feedbackData:n,feedbackType:i,pinId:o,onHide:r,recommendationReason:a}=this.props,s=a&&a.reason&&g.ReasonToChoose[a.reason],c=a&&this.getThroughId(),l=a&&this.getThroughProperties(),{action:d,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:i,pinId:o,recommendationReasonId:s,throughId:c,throughProperties:l,complaintReason:e});this.handleClickLogging(t),Object(_.a)(d,u),r()}),T(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:u.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}),T(this,"renderSecondaryFeedbackItem",({text:e,reason:t,elementType:n})=>Object(i.jsx)(x.T,{fullWidth:!1,onTap:()=>this.handleSecondaryFeedbackItemClick(t,n),children:Object(i.jsx)(l.a,{compact:!0,text:e})},e)),T(this,"renderSecondaryFeedback",()=>{const{feedbackType:e}=this.props,t="promoted"===e?[{text:u.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Seen Pin too many times","",""),reason:3,elementType:11172},{text:u.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898}]:[{text:u.a._("Not relevant to me","Feedback option for Pin","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Not in a language I understand","",""),reason:15,elementType:11178},{text:u.a._("Seen Pin too many times","",""),reason:3,elementType:295},{text:u.a._("Blurry or pixelated image","low quality picture","low quality picture"),reason:13,elementType:10898},{text:u.a._("Other","",""),reason:8,elementType:11179}];return Object(i.jsxs)(x.e,{overflow:"hidden",rounding:2,width:"100%",children:[Object(i.jsx)(x.e,{paddingX:4,paddingY:4,children:Object(i.jsx)(x.U,{color:"darkGray",size:"md",children:u.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback","Title of follow up question after negative Pin feedback")})}),Object(i.jsx)(x.o,{}),Object(i.jsx)(x.e,{paddingY:2,children:t.map(this.renderSecondaryFeedbackItem)})]})});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(_.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{dispatch:o,onHide:r,pinId:a}=this.props;o(t&&n&&i?Object(O.e)(a,e,this.generateUndoHideCallback(n,i),this.getUndoText(i)):Object(O.a)(a,e)),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),o(Object(O.d)(a)))}getThroughId(){const{recommendationReason:e}=this.props;return(null==e?void 0:e.reason_id)?e.reason_id:(null==e?void 0:e.board)?e.board.id:(null==e?void 0:e.pin)?e.pin.id:(null==e?void 0:e.interest)?e.interest.id:""}getThroughProperties(){var e;return null===(e=this.props.recommendationReason)||void 0===e?void 0:e.through_properties}getComponentType(){const{feedbackType:e}=this.props;switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}makeStrongText(e,t){return Object(i.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{viewParameter:n,viewType:i}=this.props;Object(f.b)(101,{...t,view:i,viewParameter:n,element:e,component:this.getComponentType()})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:o,viewParameter:r}=this.props,{pinFeedbackConfig:a}=this.state,{options:s}=a,d=[],m=s.length;for(let j=0;j<m;j+=1){const a=s[j],m=_.b.includes(a.action),g=a.callback?a.callback:()=>this.onPinHide(a.feedbackText,m,a.actionOptions,a.action);if("downloadPin"!==a.action)d.push(Object(i.jsx)(x.e,{children:a.link?Object(i.jsx)(h.a,{id:a.dataTestId||"",children:Object(i.jsx)(p.a,{external:!0,to:a.link,children:Object(i.jsx)(l.a,{compact:!0,text:a.text})})}):Object(i.jsx)(x.T,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,a,g),children:Object(i.jsx)(l.a,{compact:!0,text:a.text})})},j));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(b.b)(window)){const{bestPinImgSrc:e,pinTitle:a,pinDescription:s,pinCategory:p}=this.props;d.push(Object(i.jsx)(x.e,{children:Object(i.jsx)(c.a,{category:p,filename:a||s,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:r,viewType:o,children:e=>Object(i.jsx)(x.T,{fullWidth:!1,onTap:e,children:Object(i.jsx)(l.a,{compact:!0,text:u.a._("Download image","Button to download Pin image","Button to download Pin image")})})})},j))}}return d}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{description:n}=e,o=this.getRecommendationDescriptionImage();return Object(i.jsx)(x.e,{overflow:"hidden",width:"100%",children:t?this.renderSecondaryFeedback():Object(i.jsxs)(x.e,{children:[n&&Object(i.jsxs)(x.e,{children:[Object(i.jsxs)(x.e,{alignItems:"center",display:"flex",padding:4,children:[Object(i.jsx)(x.e,{maxHeight:56,overflow:"hidden",children:Object(i.jsx)(x.U,{color:"darkGray",overflow:"normal",size:"md",children:n})}),o]}),Object(i.jsx)(x.o,{})]}),Object(i.jsx)(x.e,{marginBottom:3,marginTop:2,children:this.renderButtons()})]})})}}t.a=Object(m.compose)(Object(a.connect)(),w.k)(S)},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"82UD":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("/MKj"),s=n("T+9/"),c=n("ajUs"),l=n("ou9u"),d=n("hFNL"),u=n("qD10"),p=n("yKES"),b=n("5uyJ"),h=n("n6mq");const m={overlay:{__style:{backgroundColor:"#000"}}};function j(e){const{pin:{id:t,images:n,title:o,videos:a,video_status_message:s}}=e,c=s||{},l=n&&n["236x"],d=a&&a.video_list[b.a.V_HLSV4],{duration:j}=d||{};return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)(h.i,{children:Object(i.jsxs)(u.a,{to:"/pin/"+t,children:[Object(i.jsxs)(h.e,{overflow:"hidden",position:"relative",rounding:2,children:[l&&Object(i.jsx)(h.w,{alt:o||"",color:"lightGray",naturalHeight:l.height,naturalWidth:l.width,src:l.url}),!!j&&Object(i.jsx)(h.e,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(i.jsx)(p.a,{duration:j})}),Object(i.jsx)(h.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:m.overlay}),Object(i.jsxs)(h.e,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(i.jsx)(h.t,{color:"white",overflow:"normal",size:"sm",children:c.title}),Object(i.jsx)(h.e,{marginTop:4,children:Object(i.jsx)(h.U,{color:"white",size:"md",overflow:"normal",children:c.subtitle})})]})]}),Object(i.jsx)(h.e,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(i.jsx)(h.e,{flex:"grow",children:o&&Object(i.jsx)(h.e,{paddingY:1,children:Object(i.jsx)(h.U,{inline:!0,size:"md",weight:"bold",children:o})})})})]})})})}var g=n("Y8Sn"),f=n("vpxy"),O=n("0nTG");t.a=Object(a.connect)((function({pins:e},{pin:t,pinId:n}){return{reduxPin:e[n]||t}}),()=>({}))((function({reduxPin:e,trackingParameters:t,...n}){const r=Object(a.useSelector)(({location:e})=>e),u=Object(c.a)(e,r),p=Object(l.a)(e),b=!!(p&&p.url&&p.height&&p.width)||void 0,h=p&&e.videos?e.videos.id:void 0,[m,y]=Object(o.useState)(!1),x=Object(o.useCallback)(()=>y(!0),[]),_=Object(o.useCallback)(()=>y(!1),[]),{componentType:w,contextLogData:T,impressionAuxFields:v,slotIndex:S,viewData:I,viewParameter:E,viewType:P}=t;return Object(i.jsx)(s.a,{componentType:w,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(d.b)(window)}:{},...T,...Object(O.f)(e,T)},impressionAuxFields:{...v||{},isNativeVideoAndWatchable:b,videoIdStr:h,clientTrackingParams:u||(e.tracking_params||"")+"-0",imageURL:e.images&&e.images["236x"].url,richTypes:Object(O.e)(e)},impressionType:"Pin",isPaused:!m,loggingId:e.id,slotIndex:S,viewData:I,viewParameter:E,viewType:P,children:Object(g.h)(e)?Object(i.jsx)(j,{pin:e}):Object(i.jsx)(f.a,{...n,debugImpressionState:m?"started":"paused",onError:_,onLoad:x,pin:e,trackingParameters:{componentType:w,contextLogData:T,slotIndex:S,viewParameter:E,viewType:P}})})}))},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"9WJf":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("8A+h"),o=n("E58E"),r=n("zpPL");function a({action:e,board:t}){var n;const a=r.a.instance&&r.a.instance.getState()||{viewer:{}},{viewer:s}=a;return Object(i.a)(s,t)||Object(o.a)({board:t,viewer:s})&&!!(null===(n=t.collaborator_permissions)||void 0===n?void 0:n.includes(e))}},AAEI:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("/MKj"),o=n("ANjH"),r=n("vh5K"),a=n("Vzit");function s(e){const t=Object(i.useDispatch)(),n=Object(i.useSelector)(e=>e.experiences.eligibleExperiences),s=Object(i.useSelector)(e=>e.experiences.mountedPlacements);return{experienceForPlacement:e?Object(r.c)(n,s,e):null,...Object(o.bindActionCreators)({completeExperience:a.a,dismissExperience:a.b,fetchAllExperiences:a.d,fetchExperienceForPlacement:a.c,triggerExperimentsForPlacement:a.k,viewExperience:a.j},t)}}},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}))},DpdR:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("Ye/N"),s=n("MhBu"),c=n("eOdZ"),l=n("KFEb"),d=n("zq6P"),u=n("n6mq");const p={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},b={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function h({board:e,favorited:t,onUpdate:n,pinId:h}){const m=Object(r.useDispatch)(),{currentFilter:j,eligibleFilters:g,refreshData:f=(()=>{}),sectionId:O}=Object(d.b)(),y=6===j,x=!g||!g.some(e=>6===e.pin_type),[_,w]=Object(o.useState)(!1),[T,v]=Object(o.useState)(t);return Object(i.jsx)(u.T,{disabled:_,onTap:()=>{(async()=>{v(!T),w(!0);const t=c.a.create("ApiResource",{url:`/v3/pins/${h}/favorite/`});T?await t.callDelete().then(()=>{n&&n(),w(!1),e&&y&&m(Object(s.a)({feedId:O||e.id,feedType:O?l.a.SECTION_PINS:l.a.BOARD_PINS,itemIds:[h],itemType:"pin"}))}):await t.callCreate().then(()=>{n&&n(),x&&f(),w(!1)})})()},children:Object(i.jsx)(u.u,{accessibilityLabel:a.a._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:T?b:p,size:20})})}},"E/VT":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("28DW"),s=n("n6mq"),c=n("U4JR");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.a.Component{constructor(...e){super(...e),l(this,"state",{href:void 0}),l(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:o,viewParameter:r,viewType:s}=this.props,{href:l}=this.state;null==l&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(a.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(c.b)(82,{objectId:o,view:s||3,viewParameter:r||139})}),l(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,o=null!=n&&n!==this.DOWNLOAD_ERROR;return Object(i.jsxs)(r.a.Fragment,{children:[e(this.onEvent),o&&Object(i.jsx)(s.e,{display:"none",children:Object(i.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})})]})}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return t.isAuth&&n}n.d(t,"a",(function(){return i}))},ENn1:function(e,t,n){var i=n("zpPL"),o=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,c=Object(r.f)(e),l=Object(r.g)(e);let d;if(Object(r.j)(s)&&s){const{video_list:e}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(o.b)({id:a,isProduct:c,isPromoted:l,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var i=n("nKUr"),o=(n("q1tI"),n("JW66")),r=n("BcL7"),a=n("pWkb"),s=n("ynlw"),c=n("Ye/N"),l=n("vvax"),d=n("VpfY"),u=n("n6mq");function p(e,t){var n,i;if(!t.isAuth)return!1;const a=Object(d.b)(e)||Object(d.d)(e),c=(null===(n=e.board)||void 0===n?void 0:n.privacy)===o.a.BoardPrivacy.PUBLIC&&!e.is_repin&&(null===(i=e.pinner)||void 0===i?void 0:i.id)===t.id,{isStoryPin:l}=Object(s.a)(e);return a||t.isPartner&&c||["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("web_ps4p"))&&l&&c}function b(e,t){return e?[{align:"start",displayText:c.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:c.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:c.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:c.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:c.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:c.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function h(e,t){const{isStoryPin:n,isVideo:o}=Object(s.a)(e),r=Object(d.b)(e),p=Object(d.d)(e)&&(n||!r)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,b=new Date(e.created_at),h=(new Date).getTime()-b.getTime(),m=Math.floor(h/36e5),j=p?p["24h_realtime"].is_realtime:null,g=p?p["24h_realtime"].timestamp:null;let f=null;p&&(f=n||o?p.all_time_realtime.timestamp:p["30d_realtime"].timestamp);const O=f!==g,y=e=>Object(l.b)(c.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),x={timeframe:"",lastUpdated:""};if(p)if(j){const e=p["24h_realtime"].impression>=(n||o?p.all_time_realtime.impression:p["30d_realtime"].impression);x.timeframe=e?c.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||o?c.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):c.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),x.lastUpdated=c.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(O||m>48)if(n||o){const e=Object(a.a)(p.all_time_realtime.timestamp);x.timeframe=c.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),x.lastUpdated=y(e)}else{const e=Object(a.a)(p["30d_realtime"].timestamp);x.timeframe=c.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),x.lastUpdated=y(e)}else{const e=Object(a.a)(p["24h_realtime"].timestamp);x.timeframe=c.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),x.lastUpdated=y(e)}else x.lastUpdated=c.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return Object(i.jsxs)(u.e,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0,children:[Object(i.jsx)(u.U,{align:"right",color:"gray",size:"sm",children:x.lastUpdated}),(n||["md","sm"].includes(t))&&!!p&&Object(i.jsx)(u.U,{color:"gray",inline:!0,size:"sm",children:" ・"}),Object(i.jsx)(u.U,{align:"right",color:"gray",size:"sm",children:x.timeframe})]})}},ExRq:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("uVIr"),o=n("eOdZ"),r=n("qUSw"),a=n("i9se");const s={[a.a.BOARD_ACTIVITY]:"BoardActivityCommentResource",[a.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityNestedCommentResource"},c={[a.a.BOARD]:"boardId",[a.a.BOARD_ACTIVITY]:"activityId",[a.a.BOARD_ACTIVITY_COMMENT]:"activityId"};function l({contentMarkdown:e,imageSignatures:t,objectIds:n,parentId:l,parentType:d,text:u,tags:p,replyToCommentId:b}){return h=>{const m=s[d],j={[c[d]]:l,contentMarkdown:e,imageSignatures:t,objectIds:n,tags:p,text:u,replyToCommentId:b},g=a.b[d],f=d!==a.a.BOARD_ACTIVITY_COMMENT;return o.a.create(m,j).callCreate({showError:!0}).then(e=>{const t=e.resource_response.data;return h(function(e,t){return{type:"ACTIVITY_ITEM_CREATED",payload:{parentId:e,activityItem:t}}}(l,t)),h(Object(i.a)({feedId:l,feedType:g,itemIds:[t.id],itemType:t.type,prepend:f})),h(Object(r.b)(l)),e})}}},FgHp:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("wvsB"),o=n("7w6Q"),r=n("jZDM");const a="video",s={},c=(e,t)=>{if(o.a.increment("web_prefetch.attempt",1),window.navigator&&window.navigator.connection){const e=window.navigator.connection;if(e.saveData)return void o.a.increment("web_prefetch.saveDataOn",1);if(/2g/.test(e.effectiveType))return void o.a.increment("web_prefetch.poorConnection",1)}if(!(()=>{const e=document.createElement("link");return!!e.relList&&!!e.relList.supports&&e.relList.supports("prefetch")})())return void o.a.increment("web_prefetch.prefetchNotSupported",1);const n=Object(r.a)(e),i=document.createElement("link");var a;(i.rel="prefetch",i.href=e,i.as=t,o.a.increment("web_prefetch.addedToDom",1,{hostname:n.hostname||"unknown"}),i.onload=()=>{s[e]&&(s[e].loaded=!0),o.a.increment("web_prefetch.load.success",1,{hostname:n.hostname||"unknown"})},i.onerror=()=>{o.a.increment("web_prefetch.load.error",1,{hostname:n.hostname||"unknown"})},s[e])||(null===(a=document.head)||void 0===a||a.appendChild(i),s[e]={added:!0})};function l(e){const{pages:t,pages_preview:n}=e,o=(n?n[0]:t[0]).blocks.find(e=>3===e.block_type);if(o&&o.video){const{hlsv3:e,mp4:t}=Object(i.c)(o.video,i.a)||{},n=e||t;n&&c(n.url,a)}}},Gx6I:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var i=n("eOdZ"),o=n("i9se");const r={[o.a.BOARD_ACTIVITY]:"BoardActivityReactionResource",[o.a.BOARD_ACTIVITY_COMMENT]:"BoardActivityCommentReactionResource"};function a(e,t,n=1){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}function s(e,t,n){return r=>{const a=o.c[t],s={activityId:e,...n};return i.a.create(a,s).callUpdate().then(e=>{const t=e.resource_response.data;return r({type:"ACTIVITY_ITEM_UPDATED",payload:{data:t}}),t})}}function c(e,t,n,o){return s=>{if(n===o)return;const c=r[t],l={activityId:e,reactionType:o},d=i.a.create(c,l);0===o?d.callDelete({showError:!1}):d.callUpdate({showError:!1}),0!==n&&s(a(e,!1,n)),0!==o&&s(a(e,!0,o))}}function l(e,t,n,o,s=0){return async c=>{const l=r[n];if(!o&&s>0){c(a(e,!1,s)),c(a(e,!0,t));const n={activityId:e,reactionType:s},o=i.a.create(l,n),r={activityId:e,reactionType:t},d=i.a.create(l,r);await o.callDelete({showError:!1}),d.callCreate({showError:!1})}else{const n={activityId:e,reactionType:t},r=i.a.create(l,n);o?r.callDelete({showError:!1}):r.callCreate({showError:!1}),c(a(e,!o,t))}}}},"HOY+":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("/MKj"),s=n("jmst"),c=n("Ye/N"),l=n("qhFy"),d=n("n6mq");const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},p={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},b={overlay:{__style:{backgroundColor:"#000"}}};function h({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:o,pinTitle:r,pin:a}){const{id:s}=a;return Object(i.jsxs)(d.w,{alt:r||c.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e,children:[Object(i.jsx)(d.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:b.overlay}),Object(i.jsxs)(d.e,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+s,children:[Object(i.jsx)(d.T,{rounding:2,children:Object(i.jsxs)(d.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(i.jsx)(d.u,{accessibilityLabel:c.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:p,size:25}),Object(i.jsx)(d.e,{margin:1}),Object(i.jsx)(d.U,{color:"white",truncate:!0,weight:"bold",children:c.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),Object(i.jsx)(d.e,{margin:3}),Object(i.jsx)(d.T,{onTap:o,rounding:2,children:Object(i.jsxs)(d.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(i.jsx)(d.u,{accessibilityLabel:c.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),Object(i.jsx)(d.e,{margin:1}),Object(i.jsx)(d.U,{color:"white",truncate:!0,weight:"bold",children:c.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var m=n("51gp"),j=n("Y8Sn"),g=n("vZlu");const f=new Set(["ConversationView","TodayTabFeed"]);var O=Object(a.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(g.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:r,lowResOnly:a,highResOnly:s,onLoad:u,onError:p,saved:b,onTimeChange:g,isExperimentalPinRep:O,pin:y,surface:x,playing:_,rootMargin:w,setCurrentVideo:T,viewType:v,viewParameter:S}){const[I,E]=Object(o.useState)(0),[P,C]=Object(o.useState)(!1),[R,k]=Object(o.useState)(!0),N=Object(j.g)(y),A=N&&!y.is_eligible_for_web_closeup,D=O&&N&&y.is_eligible_for_web_closeup&&!f.has(x),L=A||!O||!N;let B=!_;e&&(B=R,t&&_&&R&&k(!1));const{url:U}=y.images["236x"]||{},{id:M,is_promoted:G}=y,H=Object(o.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),E(0),T({pinId:M,isPromoted:G,currentTime:0}),C(!1)},[G,M,T,I]),F=Object(o.useCallback)(()=>{G&&C(D),E(e=>e+1)},[D,I]);if(!y.videos||!y.videos.video_list.V_HLSV4)return null;const{height:V,thumbnail:z,width:q,url:W}=y.videos.video_list.V_HLSV4||{},Y=y.videos.id,K=[{type:"video/m3u8",src:W}];return P&&N?Object(i.jsx)(d.e,{children:Object(i.jsx)(h,{backgroundImage:U,naturalHeight:V,naturalWidth:q,pin:y,onRestartVideo:H})}):B?Object(i.jsx)(d.e,{children:Object(i.jsx)(l.b,{lowResOnly:a,highResOnly:s,onLoad:u,onError:p,pin:y,saved:b})}):Object(i.jsx)(d.e,{children:Object(i.jsx)(m.a,{cropHeight:n,rootMargin:w,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:S,component:0,objectId:y.id,video_id:Y,view:v},accessibilityMaximizeLabel:c.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:c.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:c.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:c.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:c.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:c.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:q/V,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:r||-1},loop:L,onTimeChange:g,playing:_,poster:U||z,src:K,videoStartTime:r,volume:0,onEnded:F})})}));function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=Object(s.a)(O);class _ extends r.a.Component{constructor(...e){super(...e),y(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,o=Object(j.b)(i,n);return this.currentVideoCurrentTime||o||e}),y(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r}=this.props,{id:a,is_promoted:s}=n,c=Object(j.k)(a,r),l=Object(j.a)(a,r);e?(s||l)&&i({pinId:a,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):!e&&c&&o({pinId:a,isPromoted:s,currentTime:t||this.currentVideoCurrentTime})}),y(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:o}=t;Object(j.k)(o,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:o,pin:r,setCurrentVideo:a,videosAutoplaying:s}=this.props,{id:c,is_promoted:l}=r,d=Object(j.k)(c,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:l,currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:c,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:o,is_promoted:r}=n;Object(j.k)(o,i)&&t({pinId:o,isPromoted:r,currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:o,videosAutoplaying:r,viewParameter:a,viewType:s,highResOnly:c,lowResOnly:l,onError:d,onLoad:u,saved:p,inAdsDesktopVideoExperiment:b,isExperimentalPinRep:h,rootMargin:m}=this.props,{id:g}=n,f=Object(j.b)(g,r),O=Object(j.k)(g,r)&&t;return Object(i.jsx)(x,{cropHeight:e,rootMargin:m,currentTime:f,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:a,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:o,playing:O,trackFullVisible:!1,highResOnly:c,lowResOnly:l,onError:d,onLoad:u,saved:p,isExperimentalPinRep:h})}}t.a=Object(a.connect)((e,t)=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),(e,t)=>({pauseAutoplay:t=>e(Object(g.a)(t)),setCurrentVideo:t=>e(Object(g.c)(t))}))(_)},I7CA:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr"),o=(n("q1tI"),n("n6mq"));function r({children:e,additionalStyles:t={}}){return Object(i.jsx)(o.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},N89m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ynlw"),o=n("0nTG");function r(e){const{isProduct:t}=Object(i.a)(e);return t&&Object(o.c)(e)||""}},R6wO:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("nKUr"),o=n("q1tI"),r=n("n6mq");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends o.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:o,descriptionColor:a="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return Object(i.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(i.jsxs)(r.e,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l,children:[!c&&t&&Object(i.jsx)(r.e,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(i.jsx)(r.u,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(i.jsx)(r.u,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(i.jsxs)(r.e,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(i.jsx)(r.U,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(i.jsx)(r.e,{alignItems:"center",display:"flex",children:!c&&o&&Object(i.jsx)(r.e,{marginBottom:2,marginTop:1,children:Object(i.jsx)(r.U,{color:a,overflow:"normal",size:"sm",children:o})})})]})]})})}}a(c,"defaultProps",{bold:!0})},RwJG:function(e,t,n){t.a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},TOi3:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("nKUr"),o=(n("q1tI"),n("Ye/N")),r=n("US8k"),a=n("oRao"),s=n("n6mq");function c({value:e,valueFormat:t}){return e||0===e?"TIME"===t?Object(r.a)(e):Object(i.jsx)(a.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):Object(i.jsx)(s.Y,{idealDirection:"up",text:o.a._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}},Te6n:function(e,t,n){n.r(t),n.d(t,"OverflowMenu",(function(){return g}));var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("ENn1"),s=n("jCsw"),c=n("Ye/N"),l=n("5871"),d=n("Zxas"),u=n("kVqD"),p=n("YxyV"),b=n("DJoW"),h=n("Y8Sn"),m=n("gD/Z"),j=n("n6mq");function g({feedbackData:e,feedbackType:t,hidePinFeedbackOverlay:n,isHomefeedContextualMenuTooltipExperience:r,pin:b,pinTitle:g,setForcePrimary:f,transparentBackground:O}){const{viewParameter:y,viewType:x}=Object(m.b)(),[_,w]=Object(o.useState)(!1),[T,v]=Object(o.useState)(),{ad_match_reason:S,board:I,category:E,description:P,id:C="",images:R,is_promoted:k,pinner:N,promoter:A,recommendation_reason:D,source_interest:L,videos:B}=b;var U;const M=(U=k?60:50,function(e){return Object(d.a)((e||"").trim(),U)})(P),G=Object(s.a)(R,"236x"),H=Object(h.j)(B),F=Object(u.a)(101,{component:0,element:981,feedback_type:t,objectId:C}),V=()=>{f(!1),n(),w(!1)};return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(j.e,{"data-test-id":"feedback-button",ref:v,children:Object(i.jsx)(j.v,{accessibilityLabel:c.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:O?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:({event:e})=>{_?V():(f(!0),w(!0)),F()},size:"sm"})}),_&&Object(i.jsx)(j.y,{children:Object(i.jsx)(j.r,{anchor:T,idealDirection:"right",onDismiss:V,positionRelativeToAnchor:!1,size:"md",children:Object(i.jsx)(l.a,{ad_match_reason:S,bestPinImgSrc:Object(p.d)(b),board:I,feedbackData:e,feedbackType:t,hideDownload:H,onLinkClick:()=>{_&&V()},onHide:V,onDownloadHideFlyout:()=>{f(!1),w(!1)},pinCategory:E,pinDescription:M,pinId:C,pinImgSrc:G,pinner:N,pinTitle:g,promoter:A,recommendationReason:D,reportPin:Object(a.a)({pin:b,viewParameter:y,viewType:x}),sourceInterest:L,viewParameter:y,viewType:x})})})]})}t.default=Object(r.connect)((function({experiences:e}){return{isHomefeedContextualMenuTooltipExperience:e&&e.eligibleExperiences&&e.eligibleExperiences[1000116]&&501093===e.eligibleExperiences[1000116].experience_id}}),(function(e,{pin:t}){return{hidePinFeedbackOverlay:()=>{e(Object(b.c)(t.id))}}}))(g)},VJm5:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("T+9/"),s=n("ZbwW"),c=n("Ye/N"),l=n("qhFy"),d=n("n6mq"),u=n("yjg8");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.Component{constructor(...e){super(...e),p(this,"state",{showBadge:!0}),p(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:o}=this.state,{carousel_slots:r,index:a}=e,s=o?.8:0;return!t&&n?Object(i.jsx)(d.e,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:s,transition:"opacity .3s"}},children:Object(i.jsx)(d.U,{color:"white",children:`${a+1}/${r.length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:o}=n,{index:r}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),o!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:o=0,cropHeight:r,cropWidth:s,carouselData:p,highResOnly:b,lowResOnly:h,onError:m,onLoad:j,pinId:g,isEditMode:f,isDenseView:O}=this.props;if(!p)return null;const{carousel_slots:y=[],index:x}=p,_=void 0!==t?t:x,w=!e&&s,{images:T}=y[_];let v;v=e?o:w||(b?474:O?u.f:u.e);const S=T["236x"]||{},I=S.height||0,E=S.width||236,P=n||I/E*v;return Object(i.jsxs)(d.e,{height:P,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:l.a,children:[!f&&this.renderBadge(),Object(i.jsx)(a.a,{trackCarousel:!0,impressionType:"Pin",loggingId:g,slotIndex:x,viewParameter:72,viewType:1,children:Object(i.jsx)(d.e,{position:"absolute",height:P,width:v,overflow:"hidden"})},"carousel-impression-key-"+_),Object(i.jsx)(d.e,{width:v*y.length,dangerouslySetInlineStyle:{__style:{left:_*v*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:y.map((t,a)=>((e,t,n,o,r,a,s,l,u,p,b,h,m,j)=>{const{images:g,details:f=""}=e;let O,y=236,x=236,_="";l?(y=u||0,x=p||0,_=g&&(g["564x"]&&g["564x"].url||g["736x"]&&g["736x"].url||g["236x"]&&g["236x"].url)):o?(y=474,x=g&&Math.min(y/.8,y/(g["564x"].width/g["564x"].height)),_=g&&g["564x"].url):g&&g["736x"]?(x=g&&g["736x"]&&g["736x"].height,y=g&&g["736x"]&&g["736x"].width,_=g&&g["736x"]&&g["736x"].url):g&&g["236x"]&&(x=g&&g["236x"]&&g["236x"].height,y=g&&g["236x"]&&g["236x"].width,_=g&&g["236x"]&&g["236x"].url),m&&j&&(x=Math.min(m*j,x)),O=r?g["236x"].url+" 1x":o?g["564x"].url+" 1x":[g["474x"]&&g["474x"].url+" 2x",g["736x"]&&g["736x"].url+" 3x",g.orig&&g.orig.url+" 4x"].filter(Boolean).join(", ");const w=f||`${c.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`;return Object(i.jsx)(d.e,{height:h?void 0:x,width:h?void 0:y,children:Object(i.jsx)(d.e,{height:h?b:void 0,width:h||void 0,children:Object(i.jsx)(d.w,{alt:w,fit:h?"cover":"none",naturalHeight:x,naturalWidth:y,onError:a,onLoad:s,src:_,srcSet:O})})},`carousel-slot-${t}-${n}`)})(t,g,a,b,h,m,j,e,o,n,r,s,P,v))})]})}}p(b,"defaultProps",{showCarouselBadge:!0});t.a=Object(r.connect)(({pins:e},{pinId:t})=>{const n=e[t];return{carouselData:Object(s.a)(n)}},()=>({}))(b)},Vzit:function(e,t,n){function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function o(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function r(){return{type:"EXPERIENCE_FETCH_ALL_MULTI",payload:{isFetchingAllMulti:!0}}}function a(e){return{type:"EXPERIENCE_FETCH_ALL_MULTI_COMPLETE",payload:{experiencesMulti:e}}}function s(e,t={},n=!1,i){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,inBypassExistingExperienceExpt:n,targeting:i}}}function c(e,t,n={},i=!1){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t,inBypassExistingExperienceExpt:i}}}function l(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function d(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function u(e,t,n=!1,i=!1,o={},r=!1,a){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:o,completeOnUnmount:r,targeting:a}}}function p(e,t,n=!1,i=!1,o){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:o}}}function b(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function h(e,t={},n=!1,i=!1,o){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,isServerSideRender:n,inBypassExistingExperienceExpt:i,targeting:o}}}function m(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function j(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return j}))},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("nKUr"),o=(n("q1tI"),n("Jr++")),r=n("n6mq");const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==Object(o.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:Object(i.jsx)(r.e,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:Object(i.jsx)(r.U,{color:"white",children:Object(i.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},"XLg/":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=120;function r(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function a(e,t=0,n=o){const a=Object(i.useRef)(),s=Object(i.useRef)(e),[c,l]=Object(i.useState)(e?"active":"inactive");return e!==s.current&&(e?"inactive"===c?(l("starting"),r(a,t,()=>{l("active")})):"ending"===c&&(l("active"),r(a)):"active"===c?(l("ending"),r(a,n,()=>{l("inactive")})):"starting"===c&&(l("inactive"),r(a))),Object(i.useEffect)(()=>()=>r(a),[]),s.current=e,c}},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},b9Z9:function(e,t,n){n.d(t,"a",(function(){return U}));var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("n6mq");function s({isHorizontalDesign:e}){return e?Object(i.jsxs)(a.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(i.jsx)(a.e,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),Object(i.jsx)(a.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(a.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(i.jsx)(a.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(a.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):Object(i.jsxs)(a.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(i.jsx)(a.e,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),Object(i.jsx)(a.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsxs)(a.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(i.jsx)(a.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(i.jsx)(a.e,{color:"white",height:"2px",flex:"none"}),Object(i.jsx)(a.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var c=n("Ye/N");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class u extends o.PureComponent{constructor(...e){super(...e),l(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),l(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url),n):n}),l(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,o={transition:"opacity 500ms",opacity:n[t]?1:0};return Object(i.jsx)(a.e,{dangerouslySetInlineStyle:{__style:o},color:"white",height:"100%",width:"100%",children:!!e&&Object(i.jsx)(a.w,{naturalHeight:1,src:e,fit:"cover",alt:c.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})}),l(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?Object(i.jsx)(a.e,{height:"100%",display:"flex",direction:"row",children:this.getImage(t[0],0)}):2===t.length?Object(i.jsxs)(a.e,{height:"100%",display:"flex",direction:"row",children:[this.getImage(t[0],0),Object(i.jsx)(a.e,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?Object(i.jsxs)(a.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(i.jsx)(a.e,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),Object(i.jsx)(a.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(a.e,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),Object(i.jsx)(a.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(a.e,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):Object(i.jsxs)(a.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(i.jsx)(a.e,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),Object(i.jsx)(a.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsxs)(a.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(i.jsx)(a.e,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),Object(i.jsx)(a.e,{color:"white",height:"2px",flex:"none"}),Object(i.jsx)(a.e,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),Object(i.jsx)(a.e,{height:136,display:"flex",direction:"column",children:Object(i.jsxs)(a.e,{width:"100%",position:"relative",flex:"grow",children:[Object(i.jsx)(s,{isHorizontalDesign:e}),n,Object(i.jsx)(a.e,{dangerouslySetInlineStyle:d,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}var p=n("FDmi"),b=n("qD10"),h=n("U4JR");function m(e,t){Object(h.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}var j=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:o,url:r,userFullName:s,viewParameter:c,viewType:l}=e,d=o?80:86;return Object(i.jsx)(a.e,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:o?-58:-64,marginLeft:o?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle",children:Object(i.jsx)(a.e,{flex:"none",height:d,width:d,children:Object(i.jsx)(b.a,{onClick:m(l,c),to:r,stopPropagation:!0,children:Object(i.jsx)(p.a,{name:s,src:t,verified:n})})})})},g=n("Zxas");function f({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:o,numLines:r}){const s=r*t,c=Object(g.a)(e,s);return n?Object(i.jsx)(a.U,{align:o?"left":"center",overflow:"normal",size:"md",weight:"bold",children:c}):Object(i.jsx)(a.U,{align:o?"left":"center",overflow:"normal",size:"md",weight:"normal",color:o?"darkGray":"gray",children:c})}function O({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:o}){const r=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:r?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:r?1:0}}};return Object(i.jsxs)(a.e,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[Object(i.jsx)(a.e,{height:18,width:"100%",children:Object(i.jsx)(a.U,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold",children:o})}),Object(i.jsxs)(a.e,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[Object(i.jsxs)(a.e,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[Object(i.jsx)(a.e,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),Object(i.jsx)(a.e,{height:6,flex:"none"}),Object(i.jsx)(a.e,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&Object(i.jsx)(a.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:Object(i.jsx)(f,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&Object(i.jsx)(a.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:Object(i.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!r&&Object(i.jsx)(a.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:Object(i.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:r})})]})]})}var y=n("/MKj"),x=n("oRao"),_=n("vvax");function w({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:o,userFollowed:r}){return o?Object(_.b)(c.a._("{{ followCount }} {{ followText }}"),{followCount:Object(i.jsx)(a.e,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:r?void 0:.8,children:Object(i.jsx)(a.U,{color:r?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:Object(i.jsx)(x.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(i.jsx)(a.e,{"data-test-id":"followText",display:"inlineBlock",children:Object(i.jsx)(a.U,{weight:"bold",color:r?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):Object(i.jsx)(a.e,{"data-test-id":"followText",children:Object(i.jsx)(a.U,{weight:"bold",color:r?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var T=n("M1Uz"),v=n("nGHF"),S=n("ZVOf");var I=Object(y.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(S.a)(t)),unfollow:t=>e(Object(S.b)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:o,follow:s,id:l,viewParameter:d,viewType:u,fullName:p,imageUrl:b,profileUrl:m}){const{showOneToast:j}=Object(v.b)(),g=o?c.a._("Following","User follow button","User follow button"):c.a._("Follow","User follow button","User follow button"),f=e=>Object(h.b)(e,{view:u,viewParameter:d,component:13406,element:11372});return Object(i.jsx)(a.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:Object(i.jsx)(a.T,{onTap:()=>{o?(Object(S.b)(l),f(46)):(s(l),f(45),j(({onHide:e})=>Object(i.jsx)(T.a,{onHide:e,text:Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(a.U,{children:c.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(i.jsx)(a.U,{weight:"bold",children:p})]}),href:m,imageUrl:b})))},rounding:"pill",children:Object(i.jsx)(a.e,{alignItems:"center",color:o?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:Object(i.jsx)(w,{followerCount:e,followText:g,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:o})})})})}));function E({avatarUrl:e,description:t,domainUrl:n,followerCount:o,id:r,isCreator:s,isHorizontalDesign:c,isVerified:l,userFullName:d,username:u,viewParameter:p,viewType:b}){const h=function(e){return"/"+e}(u);return Object(i.jsxs)(a.e,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[Object(i.jsx)(j,{avatarUrl:e,isHorizontalDesign:c,isVerified:l,url:h,userFullName:d,viewType:b,viewParameter:p}),c&&Object(i.jsxs)(a.e,{position:"relative",width:"100%",children:[Object(i.jsx)(a.e,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:Object(i.jsx)(I,{fullName:d,followerCount:o,id:r,imageUrl:e,isHorizontalDesign:c,profileUrl:h,showFollowerCount:s})}),Object(i.jsx)(a.e,{width:"100%",display:"flex",left:!0,marginTop:1,children:Object(i.jsx)(O,{description:t,domainUrl:n,isHorizontalDesign:c,userFullName:d})})]}),!c&&Object(i.jsxs)(a.e,{width:"100%",children:[Object(i.jsx)(O,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:c}),Object(i.jsx)(a.e,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(i.jsx)(I,{followerCount:o,fullName:d,id:r,imageUrl:e,isHorizontalDesign:c,profileUrl:h,showFollowerCount:s})})]})]})}var P=n("TgLd");const C=24;function R({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const o=n?320:236,{left:r,top:s,width:c,height:l}=e.getBoundingClientRect(),d=r+window.pageXOffset,u=s+window.pageYOffset,p=d+c+o+12>window.innerWidth,b={left:p?d:d+c,top:u+l/2},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-12-o:12,top:-o/2-44},m={top:-12,left:-12,fill:"white"},j=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return Object(i.jsxs)(a.e,{position:"absolute",zIndex:P.a,dangerouslySetInlineStyle:{__style:b},children:[Object(i.jsx)(a.e,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:o,overflow:"hidden",children:t}),Object(i.jsx)(a.e,{position:"absolute",dangerouslySetInlineStyle:{__style:m},children:Object(i.jsx)("svg",{width:C,height:C,children:Object(i.jsx)("path",{d:j})})})]})}var k=n("eOdZ"),N=n("LT60"),A=n("v/Q4"),D=n("pLLR");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class B extends o.PureComponent{constructor(e){super(e),L(this,"anchorRef",r.a.createRef()),L(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(k.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),k.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),k.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),L(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),L(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),L(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{a&&this.setState({isVisible:!0})},300))}),L(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:o,viewer:r,viewParameter:s,viewType:c}=this.props,{isVisible:l,showcase:d,user:p,userPins:b}=this.state,{about:h,domain_url:m,follower_count:j,full_name:g,id:f,image_medium_url:O,show_creator_profile:y,verified_identity:x}=p||{},_=r.isAuth&&r.id===f,w=!!x&&x.verified,{group:T}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),v="enabled2_horizontal"===T;return Object(i.jsxs)(a.e,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[Object(i.jsxs)(a.e,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[Object(i.jsx)(a.e,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!_&&!!p&&!!o&&l&&Object(i.jsx)(a.e,{children:Object(i.jsx)(N.a,{children:Object(i.jsx)(a.y,{children:Object(i.jsx)(R,{anchor:this.anchorRef.current,isHorizontalDesign:v,children:Object(i.jsx)(a.e,{color:"white",zIndex:P.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:Object(i.jsxs)(a.e,{width:"100%",children:[Object(i.jsx)(u,{isHorizontalDesign:v,userPins:b,showcase:d}),Object(i.jsx)(E,{avatarUrl:O,description:h,domainUrl:m,followerCount:j,id:f,isCreator:y,isHorizontalDesign:v,isVerified:w,userFullName:g,username:o,viewParameter:s,viewType:c})]})})})})})})]})}}function U(e){const t=Object(D.d)(),n=Object(A.a)();return Object(i.jsx)(B,{...e,requestContext:t,viewer:n})}},eqXv:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("eOdZ");const o=()=>{};const r={complaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){i.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){i.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){i.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){i.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){i.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},unfollowBoard:function(e,t){i.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){i.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){i.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){i.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=o){const i=r[e];return i?i(t,n):n()}},fc1g:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),o=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},g5OB:function(e,t,n){n.d(t,"a",(function(){return vt}));var i=n("nKUr"),o=n("q1tI"),r=n.n(o),a=n("jkxn"),s=n("rYoy"),c=n("gD/Z"),l=n("sztL"),d=n("zwad");function u(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&d.a.parse(o).hostname||""}(n,t)),o.replace("www.","")}var p=n("Ye/N"),b=n("qD10"),h=n("kVqD"),m=n("0nTG"),j=n("Y8Sn"),g=n("n6mq");const f={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function O({pin:e,sourceLinkStyle:t,surface:n,url:r}){const[a,s]=Object(o.useState)(!1),{id:d}=e,O=u(e),y=Object(m.f)(e)||{},{slotIndex:x}=Object(c.b)(),_=Object(h.a)(12,{grid_index:x,objectId:d,...Object(m.f)(e)||{}}),w=Object(h.a)(101,{element:162,objectId:d,...Object(m.f)(e)||{}}),T=Object(h.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:x,objectId:d,...Object(m.f)(e)||{}}),v=()=>{_(),w(),Object(j.e)()&&T()};return"icon-only"===t?Object(i.jsx)(b.a,{auxData:y,external:!0,onClick:v,pinId:d,surface:n,to:r,children:Object(i.jsx)(g.v,{accessibilityLabel:p.a._("link","Website url link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",size:"sm"})}):Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{...f.container,...a?f.containerHovered:{},..."truncated-text"===t?f.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),position:"relative",children:Object(i.jsx)(l.a,{hovered:a,pin:e,slotIndex:x,viewType:1,children:Object(i.jsx)(b.a,{className:"GestaltTouchableFocus",external:!0,onClick:v,pinId:d,surface:n,style:{borderRadius:18,display:"block"},to:r,children:Object(i.jsxs)(g.e,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:f.text},display:"flex",justifyContent:"between",children:[Object(i.jsx)(g.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:Object(i.jsx)(g.u,{accessibilityLabel:p.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),Object(i.jsx)(g.e,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:Object(i.jsx)(g.U,{color:"darkGray",size:"md",weight:"bold",truncate:!0,children:O})})]})})})})}const y=Object(o.lazy)(()=>Promise.all([n.e(95),n.e(107),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),x=Object(o.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),_=Object(o.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var w=Object(o.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:o,onToggleFlyout:r,onToggleModal:l,pin:d,pinTitle:u,setForcePrimary:p,showEditButton:b,showOverflowMenu:h,showShareButton:m,sourceLinkStyle:j,surface:f}){var w;const{viewParameter:T,viewType:v}=Object(c.b)(),{carousel_data:S,id:I,tracked_link:E,link:P}=d,C=null!==(w=null!=E?E:P)&&void 0!==w?w:"",R=!!C&&Object(a.a)(Object(i.jsx)(O,{pin:d,sourceLinkStyle:j,surface:f,url:C})),k=m&&Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"send-share-link",children:Object(a.a)(Object(i.jsx)(_,{pin:d,setForcePrimary:p}))})}),N=b&&Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"edit-button",children:Object(a.a)(Object(i.jsx)(y,{carouselSlotCurrentIndex:S&&S.index,component:0,onToggleModal:r,pinId:I,style:{size:"sm"},view:v,viewParameter:T,useLegoStyles:!0}))})});return"equally-spaced"===o?Object(i.jsxs)(g.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[Object(i.jsx)("div",{style:{flexBasis:32},children:R}),e?N:k,e?k:N]}):Object(i.jsxs)(g.e,{alignItems:"center",display:"flex",padding:3,children:[Object(i.jsx)(g.e,{flex:"shrink",children:R}),Object(i.jsx)(g.e,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",children:Object(i.jsxs)(g.q,{alignItems:"center",gap:2,justifyContent:"end",children:[e?N:k,h&&Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"overflow-menu-button",children:Object(a.a)(Object(i.jsx)(x,{feedbackData:t,feedbackType:n,pin:d,pinTitle:u,setForcePrimary:p}))})}),e?k:N]})})]})})),T=n("/MKj"),v=n("XSD5"),S=n("ZbwW"),I=n("U4JR");function E({direction:e,swipeHandler:t}){const n={left:p.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:p.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return Object(i.jsx)(g.e,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:Object(i.jsx)(g.T,{fullHeight:!0,fullWidth:!0,onTap:t,children:Object(i.jsx)(g.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e,children:Object(i.jsx)(g.u,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}var P=Object(T.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(v.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:o,viewType:r}=Object(c.b)(),s=Object(S.a)(e);if(!s)return null;const{id:l=""}=e,{carousel_slots:d,index:u,id:p}=s;function b(i){return()=>{const a="left"===i?u-1:u+1;t(l,a),((t,i)=>{Object(I.b)(108,{objectId:l,component:n,view:r,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:i}},...Object(m.f)(e)||{}})})(u,a)}}return Object(i.jsxs)(g.e,{height:"100%",position:"relative",width:"100%",children:[u>0&&Object(a.a)(Object(i.jsx)(E,{direction:"left",swipeHandler:b("left")})),u<d.length-1&&Object(a.a)(Object(i.jsx)(E,{direction:"right",swipeHandler:b("right")}))]})}),C=n("h9/w"),R=n("clxp"),k=n("FDmi");function N({avatarUrl:e,attributionNameLink:t,name:n="",onClick:o,accessibilityLabel:r}){const a=Object(i.jsx)(g.e,{height:"32px",width:"32px",children:Object(i.jsx)(k.a,{name:n,src:e,accessibilityLabel:r})});return t?Object(i.jsx)(b.a,{className:"underlineLink",to:t,onClick:o,children:a}):a}function A({attributionNameLink:e,name:t,onClick:n,regularWeight:o}){const r=Object(i.jsx)(g.U,{size:"md",truncate:!0,weight:o?"normal":"bold",children:t});return Object(i.jsx)(g.e,{children:e?Object(i.jsx)(b.a,{className:"underlineLink",onClick:n,to:e,children:r}):r})}function D({link:e,onClick:t,title:n,weight:o}){if(!n)return null;const r=Object(i.jsx)(g.U,{size:"md",truncate:!0,weight:o,children:n});return e?Object(i.jsx)(b.a,{className:"underlineLink",onClick:t,to:e,children:r}):r}var L=n("b9Z9"),B=n("ynlw"),U=n("Zxas"),M=n("vvax"),G=n("fc1g");var H=Object(T.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(G.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:o,pin:r,name:a,setMostRecentPin:s,sponsorUrl:l,url:d}){const{viewParameter:u,viewType:m}=Object(c.b)(),{id:j,pinner:f,sponsorship:O,story_pin_data_id:y}=r,{isPromoted:x}=Object(B.a)(r),_=f||r.promoter,{creator:{id:w}={},sponsor:{id:T}={}}=O||{},v=!!y,S=Object(h.a)(101,{view:3,element:x?283:27,objectId:j,component:v?230:void 0,...w?{creator_id:w,pin_id:j}:{}}),I=Object(h.a)(101,{view:3,element:27,pin_id:j,objectId:j,component:v?230:void 0,...w&&T?{creator_id:w,sponsor_id:T}:{}}),E=d&&!e,P=Object(i.jsxs)(g.e,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[Object(i.jsx)(g.e,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},children:Object(i.jsx)(L.a,{avatarSize:32,isDarkPromoter:o,pinId:j,user:_,username:_&&_.username,viewParameter:u,viewType:m,children:Object(i.jsx)(N,{attributionNameLink:e,avatarUrl:n,name:a,onClick:S,accessibilityLabel:""})})}),Object(i.jsxs)(g.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",children:[Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:Object(i.jsx)(A,{attributionNameLink:e,name:a,onClick:S,regularWeight:!t})}),l?Object(i.jsx)(g.U,{size:"md",weight:"bold",children:Object(M.b)(p.a._("Paid partnership with {{ name }}","pinrep.attribution.sponsoredPinTitle","Subtext of pinrep attribution when sponsored by a brand"),{name:Object(i.jsx)(D,{link:l,onClick:I,title:Object(U.a)(t,20),weight:"bold"})})}):Object(i.jsx)(D,{title:t})]})]});return E?Object(i.jsx)(b.a,{className:"underlineLink",onClick:()=>{s(j),S()},to:d,children:P}):P})),F=n("Gx6I"),V=n("GsvW");var z=Object(T.connect)((e,t)=>({replyActivityItem:t.replyActivityId?e.activityItems[t.replyActivityId]:null}),e=>({toggleLike:(t,n,i)=>e(Object(F.a)(t,1,n,i))}))((function({replyActivityId:e,replyActivityItem:t,toggleLike:n}){const{content:r,created_at:a,reaction_by_me:s,type:c,user:l}=t||{},{text:d}=r||{},[u,b]=Object(o.useState)(!1);return e&&t?Object(i.jsxs)(g.e,{marginTop:2,display:"flex",direction:"row",width:"100%",children:[Object(i.jsx)(g.e,{marginEnd:2,dangerouslySetInlineStyle:{__style:{borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"#efefef"}}}),Object(i.jsx)(g.e,{display:"flex",direction:"column",width:"100%",children:Object(i.jsxs)(g.T,{onMouseEnter:()=>{b(!0)},onMouseLeave:()=>{b(!1)},onTap:()=>{n(e,c,!!s)},children:[Object(i.jsxs)(g.e,{display:"flex",direction:"row",children:[Object(i.jsx)(g.e,{maxWidth:124,children:Object(i.jsx)(g.U,{size:"md",weight:"bold",children:Object(V.e)(l)})}),Object(i.jsx)(g.e,{marginStart:1,children:Object(i.jsx)(g.U,{size:"md",color:"gray",children:Object(V.f)(a)})})]}),Object(i.jsxs)(g.e,{display:"flex",direction:"row",children:[Object(i.jsx)(g.e,{width:"100%",children:Object(i.jsx)(g.e,{marginEnd:5,width:"100%",children:Object(i.jsx)(g.U,{size:"md",children:d})})}),Object(i.jsxs)(g.e,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12,children:[!!s&&Object(i.jsx)(g.u,{icon:"heart",accessibilityLabel:p.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!s&&u&&Object(i.jsx)(g.u,{icon:"heart-outline",accessibilityLabel:p.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})]})]})]})})]}):null})),q=n("w70y");function W({commentActivityId:e,parentActivity:t,showReplies:n}){const r=Object(T.useSelector)(({activityItems:t})=>e?t[e]:null),{comment_count:a,content:{text:s},created_at:c,reaction_by_me:l,type:d,user:u}=r||{},[h,m]=Object(o.useState)(!1),j=Object(q.a)({name:"BoardActivityCommentFeedResource",options:{page_size:1,activityId:r&&r.id,parentType:r&&r.type,redux_normalize_feed:!0},allowStale:!1}),f=Object(T.useDispatch)(),O=n&&a?a-1:0,y=!j.isLoaded,x=!!j.isLoaded&&!!j.data&&j.data.length>0&&j.data[0].id,_=Object(i.jsx)(g.U,{size:"sm",weight:"bold",children:Object(M.b)(p.a.ngettext("{{ moreRepliesCount }} more comment","{{ moreRepliesCount }} more comments",O,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreRepliesCount:O})});return Object(i.jsxs)(g.e,{display:"flex",direction:"row",marginTop:2,marginBottom:1,children:[Object(i.jsx)(g.e,{minWidth:32,minHeight:32,children:Object(i.jsx)(k.a,{src:u.image_medium_url,name:u.username})}),Object(i.jsxs)(g.e,{display:"flex",direction:"column",marginStart:2,width:"100%",children:[Object(i.jsxs)(g.T,{onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)},onTap:()=>{var t,n,i;e&&(t=e,n=d,i=!!l,f(Object(F.a)(t,1,n,i)))},children:[Object(i.jsxs)(g.e,{display:"flex",direction:"row",children:[Object(i.jsx)(g.e,{maxWidth:130,children:Object(i.jsx)(g.U,{size:"md",weight:"bold",children:Object(V.e)(u)})}),Object(i.jsx)(g.e,{marginStart:1,children:Object(i.jsx)(g.U,{size:"md",color:"gray",children:Object(V.f)(c)})})]}),Object(i.jsxs)(g.e,{display:"flex",direction:"row",children:[Object(i.jsx)(g.e,{width:"100%",maxWidth:160,children:Object(i.jsx)(g.U,{size:"md",children:s})}),Object(i.jsxs)(g.e,{marginTop:-2,marginEnd:1,marginStart:2,minWidth:12,children:[!!l&&Object(i.jsx)(g.u,{icon:"heart",accessibilityLabel:p.a._("Liked","Accessibility lable for like sent reaction icon to comments and replies under pin rep","Accessibility lable for like sent reaction icon to comments and replies under pin rep"),color:"red",size:12}),!l&&h&&Object(i.jsx)(g.u,{icon:"heart-outline",accessibilityLabel:p.a._("Like","Accessibility lable for send like reaction icon to comments and replies under pin rep","Accessibility lable for send like reaction icon to comments and replies under pin rep"),color:"darkGray",size:12})]})]})]}),O>0&&Object(i.jsx)(g.e,{marginTop:2,marginBottom:1,children:t&&t.pin?Object(i.jsx)(b.a,{to:`/pin/${t.pin.id}/`,children:_}):_}),n&&(y?Object(i.jsx)(g.e,{paddingX:1,marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #efefef"}},children:Object(i.jsx)(g.e,{color:"lightGray",width:"100%",height:48})}):Object(i.jsx)(z,{replyActivityId:x||null}))]})]})}var Y=n("ExRq"),K=n("ANjH");const X={background:"transparent",border:"0",display:"inline-block",fontSize:"14px",lineHeight:"17px",maxHeight:"34px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},$=0,J=1,Z=2;function Q(e,t){switch(t.type){case $:return{...e,commentValue:t.commentValue||""};case J:return{...e,inputRowsValue:t.inputRowsValue||1};case Z:return{...e,commentValue:"",commentAdded:!0,inputRowsValue:1};default:return e}}var ee=Object(T.connect)(({activityItems:e,groupBoardGridComments:t,viewer:n},{pin:{board_activity:i}})=>{const o=i&&i.id,r=o?e[o]:null;return{boardActivityComments:(o&&t[o]||[]).map(t=>e[t]),parentActivity:r,viewer:n}},e=>({createActivityItem:Object(K.bindActionCreators)(Y.a,e)}))((function({boardActivityComments:e,createActivityItem:t,parentActivity:n,viewer:r}){const[a,s]=Object(o.useReducer)(Q,{commentValue:"",commentAdded:false,inputRowsValue:1,showMoreComment:!!n&&n.comment_count>3});if(!r.isAuth||!e||0===e.length)return null;const c=a.commentValue.trim().length>0,l={color:c?"black":"#767676",...X},d=e.length>0?e[0].id:null,u=e.length>1?e[1].id:null,h=e.length>2?e[2].id:null,m=e[0].comment_count>0,j=u&&e[1].comment_count>0&&!m,f=h&&!m&&!j,O=f?3:2,y=e.length<3?e.length:O,x=n?n.comment_count-y:0,_=Object(i.jsx)(g.U,{size:"sm",weight:"bold",children:Object(M.b)(p.a.ngettext("{{ moreCommentsCount }} more comment","{{ moreCommentsCount }} more comments",x,"Number of more comments indicator for board comments under pin cards","Number of more comments indicator for board comments under pin cards"),{moreCommentsCount:x})}),w=Object(i.jsx)(g.e,{marginStart:2,children:Object(i.jsx)(g.U,{size:"md",weight:"bold",children:p.a._("View your comment","Text after user added comments under group board pin grid","Text after user added comments under group board pin grid")})}),T=Object(i.jsxs)(g.e,{display:"flex",direction:"column",width:"100%",children:[a.showMoreComment&&!!x&&Object(i.jsx)(g.e,{marginTop:2,marginBottom:1,children:n&&n.pin?Object(i.jsx)(b.a,{to:`/pin/${n.pin.id}/`,children:_}):_}),f&&Object(i.jsx)(W,{commentActivityId:h,parentActivity:n}),u&&Object(i.jsx)(W,{commentActivityId:u,parentActivity:n,showReplies:!!j}),Object(i.jsx)(W,{commentActivityId:d,parentActivity:n,showReplies:m})]});return Object(i.jsxs)(g.e,{display:"flex",direction:"column",children:[e.length>0&&T,Object(i.jsxs)(g.e,{alignItems:"center",display:"flex",direction:"row",marginTop:2,children:[Object(i.jsx)(g.e,{height:32,minWidth:32,children:Object(i.jsx)(k.a,{src:r.imageMediumUrl,name:r.username})}),a.commentAdded&&(n&&n.pin?Object(i.jsx)(b.a,{to:`/pin/${n.pin.id}/`,children:w}):w),!a.commentAdded&&Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(g.e,{color:"lightGray",width:"100%",alignItems:"center",display:"flex",marginStart:2,marginEnd:2,paddingX:2,paddingY:1,rounding:4,children:Object(i.jsx)("textarea",{maxLength:2e3,name:"commentTextBox",placeholder:p.a._("Add comment","Placeholder for comment text field under pin rep","Placeholder for comment text field under pin rep"),style:l,rows:a.inputRowsValue,value:a.commentValue,onChange:e=>{if(s({type:$,commentValue:String(e.target.value)}),e&&e.target){const t=e.target.rows;e.target.rows=1;const n=Math.floor(e.target.scrollHeight/17);n===t&&(e.target.rows=n),n>=2&&(e.target.rows=2,e.target.scrollTop=e.target.scrollHeight),s({type:J,inputRowsValue:n<2?n:2})}}})}),c&&Object(i.jsx)(g.e,{width:32,height:32,rounding:"circle",color:"red",children:Object(i.jsx)(g.v,{accessibilityLabel:p.a._("send","Accessibility label for send comment under pin rep","Accessibility label for send comment under pin rep"),bgColor:"transparent",icon:"send",iconColor:"white",size:"sm",onClick:()=>{if(!n)return;const e=JSON.stringify([]);t({imageSignatures:"",objectIds:[],parentId:n.id,parentType:n.type,text:a.commentValue,tags:e}),s({type:Z})}})})]})]})]})})),te=n("rSLd"),ne=n("DpdR");var ie=n("oRao"),oe=n("T5j3"),re=n("obIb"),ae=n.n(re),se=n("X/CP"),ce=n.n(se),le=n("x/xQ"),de=n.n(le),ue=n("jOPH"),pe=n.n(ue),be=n("U5D8"),he=n.n(be);const me={goodIdea:ae.a,love:de.a,thanks:pe.a,wow:he.a,haha:ce.a},je={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"};var ge=function({pinId:e,reactionCounts:t}){const n=t?Object(oe.a)(t):null,o=t?Object(oe.b)(t):0,r=!!n&&n.length>0&&n.map((e,t)=>{const n=me[je[e]];return Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:Object(i.jsx)(g.e,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)});return!!r&&Object(i.jsx)(b.a,{to:`/pin/${e}/`,children:Object(i.jsxs)(g.e,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3,children:[Object(i.jsx)(g.e,{display:"flex",direction:"row",children:r}),Object(i.jsx)(g.e,{paddingX:1,children:Object(i.jsx)(g.U,{size:"md",children:Object(i.jsx)(ie.a,{value:o,shortform:!0,shortformMaximumFractionDigits:1})})})]})})},fe=n("4Utz"),Oe=n("Rfw2");function ye({feedbackType:e,pin:t}){const{pinner:n,source_interest:o}=t,{full_name:r,username:a}=n||{},{name:s}=o||{},c="topic"===e,l=!c&&"followed"===e,d=`/${a}/`,u=Object(Oe.e)(s),h=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,m=c?h:d,j={topic:p.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:p.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:p.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:p.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!j)return null;if(l||c){const e=0===j.indexOf("{"),t=c?s:r,n=e?j.slice(j.indexOf("}")+1):j.slice(0,j.indexOf("{"));return e?Object(i.jsxs)(g.e,{children:[Object(i.jsx)(b.a,{to:m,children:Object(i.jsx)(g.U,{weight:"bold",inline:!0,size:"md",truncate:!0,children:t})}),Object(i.jsx)(g.U,{inline:!0,size:"md",children:n})]}):Object(i.jsxs)(g.e,{children:[Object(i.jsx)(g.U,{inline:!0,size:"md",children:n}),Object(i.jsx)(b.a,{to:m,children:Object(i.jsx)(g.U,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0,children:t})})]})}return Object(i.jsx)(g.e,{children:Object(i.jsx)(fe.a,{pin:t,children:Object(i.jsx)(g.U,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:j})})})}var xe=n("Te6n"),_e=n("h4v/");function we(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Te=n("4cpq");function ve({children:e,componentType:t,contextLogData:n,elementType:o,pin:r,surface:a,viewParameter:s,viewType:l}){const d=Object(c.b)(),{carousel_data:u,id:p,link:h,tracked_link:m}=r;let f,O=m||h,y="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n}=u;e[n]&&e[n].link&&(O=e[n].link),f={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},y+="-carousel"}return Object(i.jsx)(g.e,{"data-test-id":"otpp",children:Object(i.jsx)(Te.a,{id:y,children:Object(i.jsx)(b.a,{auxData:f,external:!0,onClick:()=>{const e=_e.a.getInstance(),i=e.getViewFromContext();Object(I.b)(12,{...n,view:l||d.viewType,viewParameter:s||d.viewParameter,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:we(h||"")}),Object(j.e)()&&Object(I.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:l||d.viewType,viewParameter:s||d.viewParameter,...n,component:t||d.componentType,objectId:p,grid_index:d.slotIndex,pin_id:p,prefetch_percentage_complete:we(h||"")}),Object(I.b)(13,{closeup_navigation_type:"web_closeup",objectId:p,component:t||d.componentType,view:3,...d.contextLogData,...n}),e.addViewToContext(i)},pinId:p,style:{cursor:"pointer",display:"block"},surface:a,to:O||"",children:e})})})}var Se=n("gC5q"),Ie=n("QAzJ");function Ee(e){const{pin:t,surface:n}=e,{isOneTap:o,isVideo:r,isPromoted:a}=Object(B.a)(t),{anyEnabled:s,customActivate:c}=Object(Ie.b)("web_no_tap_tap");!o&&r&&a&&c();const l=o||r&&a&&s?ve:fe.a;return Object(i.jsx)(l,{surface:o?n:void 0,...Object(Se.b)(e,["surface"])})}function Pe({pin:e,pinNoteText:t,singleLineMaxLength:n}){const o=Object(U.a)(t,n);return Object(i.jsx)(Ee,{pin:e,children:Object(i.jsx)(g.U,{overflow:"normal",size:"md",children:o})})}var Ce=n("EPem"),Re=n("TOi3");function ke({pin:e}){const{isStoryPin:t,isVideo:n}=Object(B.a)(e),o=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=Object(B.a)(e);return!n||!o&&i?i:n}(e),r=Object(Ce.a)(n,t),a=n||t?null==o?void 0:o.all_time_realtime:null==o?void 0:o["30d_realtime"];return Object(i.jsx)(g.e,{display:"flex",children:r.map(({align:e,displayText:t,field:n,iconType:o,iconSize:r=12,valueFormat:s})=>Object(i.jsxs)(g.e,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[Object(i.jsx)(g.e,{display:"inlineBlock",marginEnd:1,children:Object(i.jsx)(g.u,{accessibilityLabel:t,color:"darkGray",icon:o,size:r})}),Object(i.jsx)(g.U,{inline:!0,size:"md",children:Object(i.jsx)(Re.a,{value:null==a?void 0:a[n],valueFormat:s})})]},n))})}function Ne({currentPrice:e,originalPrice:t,pin:n,surface:o}){const r=t&&t!==e;return Object(i.jsx)(Ee,{pin:n,surface:o,children:Object(i.jsxs)(g.e,{display:"flex",direction:"row",children:[e&&Object(i.jsx)(g.U,{color:r?"blue":"darkGray",size:"md",weight:"bold",children:e}),r&&Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:Object(i.jsx)(g.U,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Ae=n("N89m");function De({pin:e,singleLineMaxLength:t,surface:n}){const o=Object(Ae.a)(e),r=Object(U.a)(o,t);return Object(i.jsx)(Ee,{pin:e,surface:n,children:Object(i.jsx)(g.e,{display:"flex",direction:"row",children:Object(i.jsx)(g.U,{color:"darkGray",overflow:"normal",size:"md",weight:"normal",children:r})})})}function Le({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:o,surface:r}){const a=e*o,s=Object(U.a)(n,a);return Object(i.jsx)(Ee,{pin:t,surface:r,children:Object(i.jsx)(g.U,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:s})})}var Be=n("+tKw");function Ue({pin:e,showGroupBoardAvatar:t,singleLineMaxLength:n,userNote:o}){const{pinner:r}=e;if(!r)return null;const{full_name:a,image_small_url:s}=r,c=1.8*n,l=Object(U.a)(o,c);return Object(i.jsx)(Ee,{pin:e,children:Object(i.jsxs)(g.e,{alignItems:"center",display:"flex",children:[!t&&Object(i.jsx)(g.e,{flex:"none",marginEnd:2,children:Object(i.jsx)(k.a,{name:a,size:"xs",src:s})}),Object(i.jsx)(g.e,{"data-test-id":"PinRep-UserNote",children:Object(i.jsx)(g.U,{overflow:"normal",size:"md",children:Object(i.jsx)(Be.a,{text:l,options:{hashtags:{source:"hashtag_closeup"}}})})})]})})}var Me=n("XLg/");const Ge=Object(o.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),He={container:{padding:"8px 6px 16px"},groupBoardContainer:{padding:"8px 6px 8px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Me.a}ms ease`},visible:{opacity:1}}};var Fe=Object(o.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:r,feedbackType:c,hoverTransitionState:l,isDarkPromoter:d,pin:u,board:b,pinNoteText:h,pinTitle:m,productOriginalPrice:j,productCurrentPrice:f,setForcePrimary:O,showBoardActivityComments:y,showBoardActivityReply:x,showCarouselEllipsis:_,showFavoriteButton:w,showGroupBoardAvatar:T,showOverflowMenu:v,showNativeReactions:S,showPinStats:I,showSource:E,showTextContent:P,singleLineMaxLength:C,surface:R,titleLines:k,useLegoPadding:A,userNote:D}){const{board_activity:L,id:U,sponsorship:M}=u,G=m||E,F=G||D,{anyEnabled:V,customActivate:z}=Object(Ie.b)("web_today_article_claimed_content_attribution","TodayArticleFeed"===R),{anyEnabled:q}=Object(Ie.a)("mweb_web_sponsored_pins",!!M),{anyEnabled:W}=Object(Ie.c)("web_pin_notes"),{anyEnabled:Y}=Object(Ie.c)("web_board_favorites",w),K=function(e,t,n={isEnabledTodayArticleClaimedContentAttrExperiment:!1,activateEnabledTodayArticleClaimedContentAttrExperiment:()=>{},isEnabledSponsoredPinExperiment:!1}){const{board:i,link_domain:o={},promoter:r,sponsorship:a,native_creator:s}=e,{isEnabledTodayArticleClaimedContentAttrExperiment:c,activateEnabledTodayArticleClaimedContentAttrExperiment:l,isEnabledSponsoredPinExperiment:d}=n,{isPromoted:u}=Object(B.a)(e),{official_user:b}=o||{},h=e.pinner||{};let m="",j="",g="",f="",O="",y="";if(u&&r)m=r.image_medium_url||r.image_small_url,g=r.full_name,f=p.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),y=`/${r.username}/`;else if(d&&a){const{creator:e,sponsor:t}=a;m=e.image_medium_url||e.image_small_url,j=`/${e.username}/`,g=t.full_name,f=e.full_name,y=`/${e.username}/`,O=`/${t.username}/`}else s?(m=s.image_medium_url||s.image_small_url,f=s.full_name,y=`/${s.username}/`):"show-for-claimed-content"===t?(l(),(null==b?void 0:b.is_primary_website_verified)&&c&&(m=b.image_medium_url||b.image_small_url,f=b.full_name,y=`/${b.username}/`)):(m=h.image_medium_url||h.image_small_url,j=`/${h.username}/`,f=h.full_name,y=i?i.url:"");return{avatarUrl:m,attributionNameLink:j,attributionTitle:g,name:f,sponsorUrl:O,url:y}}(u,e,{isEnabledTodayArticleClaimedContentAttrExperiment:V,activateEnabledTodayArticleClaimedContentAttrExperiment:z,isEnabledSponsoredPinExperiment:q}),{avatarUrl:X,attributionNameLink:$,attributionTitle:J,name:Z,sponsorUrl:Q,url:ie}=K,oe=Object(i.jsxs)(g.e,{dangerouslySetInlineStyle:{__style:b&&b.is_collaborative&&A?He.groupBoardContainer:He.container},children:[_&&Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:G||T||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:Object(i.jsx)(te.default,{pinId:U})}),I&&Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:Object(i.jsx)(ke,{pin:u})}),Object(i.jsx)(g.e,{display:"flex",children:Object(i.jsxs)(g.e,{flex:"grow",children:[(P&&F||Y)&&Object(i.jsxs)(g.e,{dangerouslySetInlineStyle:{__style:"none"!==e||T?{marginBottom:"6px"}:{}},children:[(j||f)&&Object(i.jsx)(g.e,{marginBottom:1,children:Object(i.jsx)(Ne,{currentPrice:f,originalPrice:j,pin:u,surface:R})}),Y?Object(i.jsxs)(g.q,{alignItems:"start",children:[Object(i.jsx)(g.q,{flex:"grow",children:Object(i.jsx)(Le,{numberOfLines:k,pin:u,pinTitle:m,singleLineMaxLength:C,surface:R})}),Object(i.jsx)(g.e,{marginTop:1,marginStart:3,children:Object(i.jsx)(ne.a,{board:b,favorited:!!u.favorited_by_me,pinId:u.id})})]}):Object(i.jsx)(Le,{numberOfLines:k,pin:u,pinTitle:m,singleLineMaxLength:C,surface:R}),E&&Object(i.jsx)(De,{pin:u,singleLineMaxLength:C,surface:R}),!W&&D&&Object(i.jsx)(g.e,{marginTop:G?1:0,children:Object(i.jsx)(Ue,{pin:u,showGroupBoardAvatar:T,singleLineMaxLength:C,userNote:D})})]}),Object(i.jsxs)(g.e,{alignItems:"center",display:"flex",children:[Object(i.jsx)(g.e,{flex:"grow",children:(()=>{switch(e){case"none":return null;case"image-only-credit":return Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:He.imageOnlyAttribution["active"===l?"visible":"hidden"]},children:Object(i.jsx)(ye,{pin:u,feedbackType:c})});default:return Object.values(K).some(e=>Boolean(e))?Object(i.jsx)(H,{attributionNameLink:$,attributionTitle:J,avatarUrl:X,isDarkPromoter:d,name:Z,pin:u,sponsorUrl:Q,url:ie}):null}})()}),v&&Object(i.jsx)(g.e,{flex:"none",children:Object(i.jsx)(xe.default,{feedbackData:r,feedbackType:c,pin:u,pinTitle:m,setForcePrimary:O,transparentBackground:!0})})]}),S&&!!u.reaction_counts&&Object(i.jsx)(g.e,{children:Object(i.jsx)(ge,{pinId:u.id,reactionCounts:u.reaction_counts})}),W&&h&&Object(i.jsx)(g.e,{marginBottom:1,children:Object(i.jsx)(Pe,{pin:u,pinNoteText:h,singleLineMaxLength:C})}),T&&Object(i.jsxs)(g.e,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:[Object(i.jsx)(N,{attributionNameLink:$,avatarUrl:X,name:Z}),Object(i.jsx)(g.e,{marginStart:2,flex:"grow",children:Object(i.jsx)(g.U,{size:"md",children:Z})}),Object(i.jsx)(g.e,{children:Object(i.jsx)(s.a,{children:Object(i.jsx)(Ge,{pinId:u.id,board:b,activityId:L&&L.id||u.id,showReply:x,canShowComments:!y})})})]})]})}),y&&Object(i.jsx)(ee,{pin:u})]}),re=Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:He.productContainer},children:Object(i.jsx)(g.e,{display:"flex",children:Object(i.jsx)(g.e,{flex:"grow",children:F&&Object(i.jsxs)(o.Fragment,{children:[(j||f)&&Object(i.jsx)(g.e,{marginBottom:1,children:Object(i.jsx)(Ne,{currentPrice:f,originalPrice:j,pin:u,surface:R})}),Object(i.jsx)(g.e,{marginBottom:1,children:Object(i.jsx)(Le,{numberOfLines:k,pin:u,pinTitle:m,singleLineMaxLength:C,surface:R})}),E&&Object(i.jsx)(De,{pin:u,singleLineMaxLength:C,surface:R})]})})})}),ae="shopping"===n?re:oe;return t?Object(i.jsx)("div",{style:{pointerEvents:"none"},children:ae}):Object(a.a)(ae)})),Ve=n("4+TC"),ze=n("AAEI"),qe=n("d90F"),We=n("0S8y");const Ye=Object(o.lazy)(()=>Promise.all([n.e(95),n.e(107),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),Ke=Object(o.lazy)(()=>Promise.all([n.e(95),n.e(107),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),Xe=Object(o.lazy)(()=>Promise.all([n.e(95),n.e(107),n.e(219),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),$e=Object(o.lazy)(()=>Promise.all([n.e(95),n.e(107),n.e(219),n.e(287),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),Je=Object(o.lazy)(()=>n.e("QuickSaveButtonCommon").then(n.bind(null,"iTUf"))),Ze=Object(o.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),Qe=Object(o.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function et({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,onToggleFlyout:r,onToggleModal:l,pin:d,showEditButton:u,showLikeButton:p,supportsReactionBar:b,shouldUseLegoStyles:m}){const j=Object(ze.a)(),[f,O]=Object(o.useState)(!1),{carousel_data:y,id:x,savedInfo:_}=d,w=Object(o.useRef)(!!_),v=Object(T.useSelector)(({experiences:e})=>Object(We.d)(e.eligibleExperiences)),{viewParameter:S,viewType:I}=Object(c.b)(),E=Object(h.a)(101,{element:0,objectId:x});let P=null;const C={onToggleModal:r,view:I,viewParameter:S,useLegoStyles:!0};if(!f)if(!t.hidePinBetterSaveDropdown&&v&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t,o=()=>{j.viewExperience(1000294,502450)},r=()=>{j.completeExperience(1000294,502450,!0)};P=Object(i.jsx)(s.a,{children:Object(a.a)(Object(i.jsx)(Je,{forcePrimaryContent:n,onComplete:r,onMount:o,pin:d,renderPinSaveTooltip:e,viewParameter:S}))})}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;P=Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"pin-save-button",maxWidth:"100%",children:Object(a.a)(Object(i.jsx)(Xe,{onClickCallback:E,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!_&&Object(a.a)(Object(i.jsx)(Ve.a,{isNewlySaved:!w.current,name:_.title,url:_.url})),variant:"lego",viewParameter:S}))})})}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:o,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:u}=t;P=Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"better-save",children:Object(a.a)(Object(i.jsx)($e,{initialSelection:n,onSave:o,onToggleFlyout:r,onToggleModal:l,pin:e,renderPinSaveTooltip:c,shouldUseLegoStyles:m,renderSavedStatus:({savedInfo:e})=>e&&Object(a.a)(Object(i.jsx)(Ve.a,{isNewlySaved:!w.current,name:e.title,url:e.url,shouldUseLegoStyles:m})),useMasonryFlyout:!0,variant:"pin",viewParameter:S,hideDropdown:u}))})})}else"persistentOneClickSave"===t.type?P=Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"persistent-one-click-save",children:Object(a.a)(Object(i.jsx)(Ke,{...C,saveOptions:t,pin:d}))})}):"promote"===t.type&&(P=Object(i.jsx)(g.e,{display:"flex",justifyContent:"end",children:Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"pin-promote-button",children:Object(a.a)(Object(i.jsx)(Qe,{pin:d}))})})}));let k=null;return u?k=Object(i.jsx)(s.a,{children:Object(a.a)(Object(i.jsx)(g.e,{"data-test-id":"edit-button",display:"inlineBlock",children:Object(i.jsx)(Ye,{...C,carouselSlotCurrentIndex:y&&y.index,component:0,pinId:x,style:{size:"sm"}})}))}):p&&(k=Object(i.jsx)(s.a,{children:Object(i.jsx)(g.e,{"data-test-id":"like-button",children:Object(i.jsx)(qe.a,{name:"group_boards_reactions",activate:!1,children:({anyEnabled:t,customActivate:n})=>Object(a.a)(Object(i.jsx)(Ze,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>O(!0),onHideReactionsBar:()=>O(!1),supportsReactionBar:b,useLegoStyles:!0}))})})})),Object(i.jsx)(R.a,{name:"PinRepPrimaryContent",children:Object(i.jsxs)(g.e,{display:"flex",margin:3,children:[k&&Object(i.jsx)(g.e,{flex:"grow",marginEnd:"auto",children:k}),P&&Object(i.jsx)(g.e,{marginStart:"auto",flex:"grow",children:P})]})})}var tt=n("7wXf"),nt=n("VJm5"),it=n("3qdF"),ot=n("qhFy"),rt=n("HOY+");const at={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function st({isSelected:e}){return Object(i.jsx)(g.e,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?at:{},children:Object(i.jsx)(g.e,{position:"absolute",bottom:!0,right:!0,padding:3,children:Object(i.jsx)(g.e,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:Object(i.jsx)(g.u,{accessibilityLabel:p.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var ct=n("FgHp");function lt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:r,isDenseView:a,isHovering:s,isSocialSeasonalBoard:d=!1,onError:u,onLoad:p,pin:b,pinImageCrop:h,resolution:m="default",rootMargin:j,selectionState:f,showCarousel:O,showPromotedVideos:y,surface:x}){const{contextLogData:_,slotIndex:w,viewParameter:T,viewType:v}=Object(c.b)(),{group:S}=Object(Ie.a)("web_preload_story_pin_video_in_feed"),{id:I="",aggregated_pin_data:E,image_signature:P,story_pin_data:C}=b,{pin_tags_chips:R}=E||{},{isOneTap:k,isVideo:N,isPromoted:A,isGif:D}=Object(B.a)(b),{cropHeight:L,cropWidth:U}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let M=null;if(e||!N||!y&&A)if(O)M=Object(i.jsx)(g.e,{"data-test-id":"pinrep-carousel",children:Object(i.jsx)(nt.a,{cropHeight:L,cropWidth:U,onError:u,onLoad:p,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:I,showCarouselBadge:!1,isDenseView:a})});else{const e="backend"===h?function({images:e,image_crop:t}){const n=e&&e["236x"].height;if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e,max_y:i}=t;return{marginTop:(e>0?-1*e*n:0)+"px",marginBottom:(i<1?Math.round(-1*(1-i)*n):0)+"px"}}return{}}(b):{};M=Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:Object(i.jsx)(ot.b,{animateGif:D&&d,cropHeight:L,cropWidth:U,fallbackColor:n,imageFit:r,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:p,onError:u,pin:b})})}else M=Object(i.jsx)(g.e,{"data-test-id":"pinrep-video",height:L||void 0,children:Object(i.jsx)(rt.a,{cropHeight:L,rootMargin:j,inAdsDesktopVideoExperiment:N&&y,pin:b,surface:x,onLoad:p,viewType:v,viewParameter:T,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:u,isExperimentalPinRep:!0})});const G=Object(i.jsx)(g.B,{wash:!0,children:Object(i.jsx)(l.a,{hovered:s,pin:b,slotIndex:w,viewType:1,children:M})}),H=["selected-image-only","deselected-image-only"].includes(f),F="selected-image-only"===f,V=Object(o.useRef)(!0);if(Object(o.useEffect)(()=>{V.current||!s||"enabled_hover"!==S||k||t||!C||Object(ct.a)(C),V.current=!1},[s]),t)return Object(i.jsxs)(o.Fragment,{children:[G,H&&Object(i.jsx)(st,{isSelected:F}),R&&Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(i.jsx)(it.a,{pin:b,enableCloseupLink:!0})})]});const{commerce_data:z}=_||{},q=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(x);return Object(i.jsxs)(Ee,{contextLogData:{grid_index:w,image_signature:P,commerce_data:q?z:void 0},elementType:35,pin:b,surface:x,children:[G,R&&Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(i.jsx)(it.a,{pin:b,enableCloseupLink:!1})})]})}var dt=n("CgR/"),ut=n("Sp3T");var pt=dt.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e,viewType:t})=>{const n=Object(ut.a)();return Object(i.jsx)(g.f,{onClick:({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),n(()=>{e()})},text:p.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:p.a._("Send","Accessible label to send a pin","Accessible label to send a pin")})});function bt(e){return e<160?"header-only":"none"}function ht(e){const[t,n]=Object(o.useState)(e.current?bt(e.current.clientHeight||0):"none");return function(e,t){const n=Object(o.useRef)();Object(o.useEffect)(()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=bt(e);i!==t&&n(i)}),t}var mt=n("W5T3"),jt=n("I7CA"),gt=n("eqXv"),ft=n("tMjw");const Ot={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:ft.a,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}},yt=["followed","related","search"],xt=["pfy","pfyBoard"];function _t({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n}){const[a,s]=Object(o.useState)(!1),[c,l]=Object(o.useState)(!1);Object(o.useEffect)(()=>s(!0),[]);const d=()=>l(!0),{feedbackText:u,images:h,showFeedbackOverlay:m,undoAction:j,undoText:f}=n,O=h&&h["236x"].url,{image:y,subTitle:x,title:_,unfollow:w}=u,T=!yt.includes(e),v=xt.includes(e),S=()=>{Object(I.b)(101,{view:1,viewParameter:92,element:11347})};return Object(i.jsxs)(g.e,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:ft.a}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(i.jsxs)(g.e,{dangerouslySetInlineStyle:{__style:{borderRadius:ft.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[O&&Object(i.jsx)(jt.a,{additionalStyles:{...Ot.background.base,...a?Ot.background.blurred:{},backgroundImage:`url("${O}")`}}),Object(i.jsx)(jt.a,{additionalStyles:{...Ot.backdrop.base,...Ot.backdrop.blurred}})]}),Object(i.jsx)(g.e,{dangerouslySetInlineStyle:{__style:{...Ot.feedbackOverlayContainer.base,...!m&&a?Ot.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:Object(i.jsx)(g.e,{height:"100%",children:Object(i.jsxs)(g.e,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[Object(i.jsx)(g.e,{marginBottom:2,children:Object(i.jsx)(g.t,{color:"white",size:"sm",children:_})}),Object(i.jsxs)(g.e,{display:"flex",marginBottom:1,children:[y&&Object(i.jsx)(g.e,{marginEnd:3,children:Object(i.jsx)(g.B,{width:y.width,height:y.height,rounding:2,wash:!0,children:Object(i.jsx)(g.w,{alt:x||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:y.url||""})})}),Object(i.jsx)(g.U,{color:"white",overflow:"normal",children:x})]}),t?Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(g.e,{children:Object(i.jsx)(g.T,{onTap:j,children:Object(i.jsx)(g.U,{color:"white",weight:"bold",overflow:"normal",children:p.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),Object(i.jsxs)(g.e,{marginTop:"auto",children:[!j&&!c&&w&&!v&&Object(i.jsx)(g.f,{color:"white",onClick:()=>Object(gt.a)(w.action,w.actionOptions,d),text:p.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),T&&Object(i.jsx)(b.a,{to:"/edit",onClick:S,children:Object(i.jsx)(g.f,{color:"white",text:p.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})})]})]}):Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(g.e,{children:T&&Object(i.jsx)(b.a,{className:"underlineLink",to:"/edit",onClick:S,style:Ot.navigateLinkStyle,children:Object(i.jsx)(g.U,{color:"white",weight:"bold",overflow:"normal",children:p.a._(" Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),Object(i.jsxs)(g.e,{marginTop:"auto",children:[!j&&!c&&w&&!v&&Object(i.jsx)(g.f,{color:"white",onClick:()=>Object(gt.a)(w.action,w.actionOptions,d),text:p.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),j&&Object(i.jsx)(g.f,{color:"white",onClick:j,text:f||p.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}function wt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Tt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const vt=228;t.b=Object(o.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:r=!1,footerProps:a,forcePrimaryContentVisibility:s,impressionsDebuggerProps:l,onError:d,onLoad:u,obscuredPinOverlayProps:p,pin:b,pinVisualProps:h,presentationProps:m,primaryContentProps:j,selectionState:f,secondaryContentProps:O,showAccessoryContent:y,showActionBar:x,showFooter:_,showImpressionsDebugger:T,showSignalDebugger:v,showObscuredPinOverlay:S,showPrimaryAndSecondaryContent:I,surface:E}){const{savedInfo:k}=b,{viewType:N}=Object(c.b)(),[A,D]=Object(o.useState)(!1),L=Object(Me.b)(A);let{isHovering:B,hoverTransitionState:U,handleMouseOver:M,handleMouseLeave:G}=function(){const[e,t]=Object(o.useState)(!1);return{isHovering:e,hoverTransitionState:Object(Me.b)(e,0,Me.a),handleMouseOver:Object(o.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(o.useCallback)(()=>t(!1),[t])}}();r&&(B=!1,U="inactive");const H=Object(Me.b)(!!k),F=wt(H),V=wt(U),z=wt(U),q=wt(L),W=wt(H),Y={primaryContentVisibility:Tt(z,q,W),secondaryContentVisibility:(K=Tt(z,q,W),"none"===K?"visible":"visible"===K?"none":"hidden"),actionBarVisibility:Tt(z,q),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var K;const X=e=>D(e),$=e=>D(e),J=e=>{D(e),e||G()};let Z=null;s&&(Y.primaryContentVisibility="visible"),"none"!==Y.primaryContentVisibility&&I&&(Z=Object(i.jsx)(et,{pin:b,forcePrimaryContent:X,onToggleFlyout:$,onToggleModal:J,...j}));let Q=null;const ee=Object(o.useRef)(!0),te=ee.current;ee.current=!1;const ne=function(e,t){const{carousel_data:n}=e,{index:i}=n||{},[r,a]=Object(o.useState)(!n||t),s=Object(o.useRef)(i),c=Object(o.useRef)(null);if(n){const e=s.current;s.current=i,(i!==e||t)&&(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1),c.current=null},4e3))}return Object(o.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),r}(b,te),ie=wt(Object(Me.b)(ne));Y.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Y.secondaryContentVisibility,ie),Q=(O.allowShoppingPriceIndicator||O.shoppingLabelColor||"none"!==Y.secondaryContentVisibility)&&I&&!n&&Object(i.jsx)(g.e,{margin:2,children:Object(i.jsx)(tt.a,{pin:b,...O})});let oe=null;y&&(oe=Object(i.jsx)(P,{pin:b}),Y.accessoryContentVisibility=wt(U)),h.isSocialSeasonalBoard&&(e.showShareButton=!1);const re=x?Object(i.jsx)(w,{onToggleFlyout:$,onToggleModal:J,pin:b,setForcePrimary:D,surface:E,...e}):null;let ae=null;_&&(ae=Object(i.jsx)(Fe,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===a.attributionType?U:null,pin:b,setForcePrimary:D,surface:E,...a})),h.isSocialSeasonalBoard&&(ae=Object(i.jsx)(g.e,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:Object(i.jsx)(g.e,{margin:"auto",width:vt,children:Object(i.jsx)(pt,{isFlyoutOpen:A,onFlyoutDismiss:()=>$(!A),onToggleFlyout:()=>$(!A),pinId:b.id,sendType:"pin",shownWithinMasonry:!0,viewType:N})})}));const se=T&&Object(i.jsx)(mt.b,{...l}),ce=v&&b.debug_info_html&&Object(i.jsx)(g.e,{paddingY:1,children:Object(i.jsx)("pre",{children:b.debug_info_html})}),le=Object(i.jsx)(C.a,{pin:b}),de=Object(o.useRef)();"header-only"===ht(de)&&(Y.actionBarVisibility="none",Y.accessoryContentVisibility="none");const ue=S?Object(i.jsx)(_t,{pin:b,...p}):null;return Object(i.jsx)(R.a,{name:"PinRepContainer",children:Object(i.jsx)("div",{onMouseOver:M,onMouseLeave:G,"data-test-id":"pin","data-test-pin-id":b.id,children:Object(i.jsx)(ft.c,{visualOverlayVisibility:V,savedOverlayVisibility:F,primaryContent:Z,primaryContentVisibility:Y.primaryContentVisibility,secondaryContent:Q,secondaryContentVisibility:Y.secondaryContentVisibility,accessoryContent:oe,accessoryContentVisibility:Y.accessoryContentVisibility,actionBar:re,actionBarVisibility:Y.actionBarVisibility,footer:ae,selectionState:f,debugContent:se,signalDebuggerV2Content:le,signalDebuggerV2ContentVisibility:Y.signalDebuggerV2ContentVisibility,signalDebuggerContent:ce,obscuredPinOverlay:ue,...m,children:Object(i.jsx)(g.e,{ref:de,children:Object(i.jsx)(lt,{blockClickEvents:t,isHovering:B,onError:d,onLoad:u,pin:b,surface:E,selectionState:f,...h})})})})})}))},gC5q:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("YO3V"),o=n.n(i);function r(e,t=!1){return n=>{if(!o()(n))return t&&Array.isArray(n)?n.map(r(e,t)):n;const i={};return Object.keys(n).forEach(a=>{const s=e(n[a],a);o()(n[a])||t&&Array.isArray(n[a])?i[s]=r(e,t)(n[a]):i[s]=n[a]}),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>r(n,t)(e)}function s(e={},t=[]){return Object.keys(e).reduce((n,i)=>t.includes(i)?n:{...n,[i]:e[i]},{})}},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("trackingParametersContext")},"h9/w":function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("nKUr"),o=n("q1tI"),r=n("Ye/N"),a=n("M1Uz"),s=n("n6mq");function c(e){const{onHide:t}=e,n=Object(i.jsx)(s.U,{children:r.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return Object(i.jsx)(a.a,{onHide:t,text:n})}var l=n("eOdZ"),d=n("v/Q4"),u=n("nGHF");var p=function({anchor:e,onDismiss:t,pinId:n,signals:a}){const[p,b]=Object(o.useState)(0),h=Object(d.a)(),{showOneToast:m}=Object(u.b)();if(!h.isEmployee)return null;const j=a.map(({signal_message:e})=>({href:"#",text:e})),{background_color:g,icon_url:f,signal_id:O,signal_message:y}=a[p];return Object(i.jsx)(s.y,{children:Object(i.jsx)(s.r,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:Object(i.jsxs)(s.e,{padding:4,width:"100%",children:[a.length>1&&Object(i.jsx)(s.e,{overflow:"scrollX",padding:1,marginBottom:4,children:Object(i.jsx)(s.S,{activeTabIndex:p,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),b(e)},size:"lg",tabs:j})}),Object(i.jsx)(s.e,{display:"flex",alignItems:"center",children:Object(i.jsx)(s.t,{size:"sm",children:r.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),Object(i.jsx)(s.e,{paddingY:3,children:Object(i.jsxs)(s.q,{alignItems:"center",gap:2,justifyContent:"center",children:[Object(i.jsx)(s.e,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?Object(i.jsx)(s.w,{alt:r.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:f}):Object(i.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:g}},height:40,width:40})}),Object(i.jsx)(s.U,{size:"md",children:y})]})}),Object(i.jsx)(s.e,{marginBottom:3,children:Object(i.jsx)(s.U,{size:"md",children:r.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),Object(i.jsxs)(s.q,{alignItems:"center",gap:2,justifyContent:"start",children:[Object(i.jsx)(s.f,{color:"red",size:"md",text:r.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:O,user:h.id};l.a.create("SignalReviewRequestResource",e).callCreate(),t(),m(({onHide:e})=>Object(i.jsx)(c,{onHide:e}))}}),Object(i.jsx)(s.f,{color:"gray",size:"md",text:r.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})},b=n("7pfs"),h=n("jkxn"),m=n("rYoy");function j({signals:e,pinId:t}){const{background_color:n,icon_url:r,signal_message:a}=e[0],[c,l]=Object(o.useState)(!1),d=Object(o.useRef)();return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(m.a,{children:Object(i.jsx)(s.e,{"data-test-id":"debug-signals-feedback-button",children:Object(h.a)(Object(i.jsx)(b.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:o})=>Object(i.jsx)(s.T,{onTap:()=>l(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:o,children:Object(i.jsxs)(s.e,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[Object(i.jsx)(s.e,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:Object(i.jsx)(s.e,{width:20,height:20,rounding:"circle",overflow:"hidden",children:Object(i.jsx)(s.w,{alt:"",color:n,src:r,naturalHeight:1,naturalWidth:1})})}),Object(i.jsx)(s.U,{color:"white",size:"md",weight:"bold",children:a})]})})}))})}),c&&d&&d.current&&Object(i.jsx)(p,{anchor:d.current,onDismiss:()=>l(!1),pinId:t,signals:e})]})}function g({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:o,deb_inclusive_product:r,deb_shopping:a,deb_trust_and_safety:s}=e;return n?Object(i.jsx)(j,{pinId:t,signals:n}):o?Object(i.jsx)(j,{pinId:t,signals:o}):r?Object(i.jsx)(j,{pinId:t,signals:r}):a?Object(i.jsx)(j,{pinId:t,signals:a}):s?Object(i.jsx)(j,{pinId:t,signals:s}):null}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jkxn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("nKUr");n("q1tI");function o(e){return Object(i.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"},children:e})}},kVqD:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("U4JR"),r=n("gD/Z");function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:c}=Object(r.b)();return Object(i.useCallback)(()=>{Object(o.b)(e,{component:n,view:c,viewParameter:s,...a,...t||{}})},[t,n,a,e,s,c])}},"mVz+":function(e,t,n){n.d(t,"k",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return j})),n.d(t,"o",(function(){return g}));const i=171,o=85,r=40,a=20,s=4,c=106,l=133,d=16,u=5,p=1.25,b=.1,h=10,m=246,j=197,g=236},pSsd:function(e,t,n){n.d(t,"a",(function(){return i}));const i="favorited"},qAg2:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("Ye/N"),o=n("qpbZ");function r(e){const{alt_text:t,auto_alt_text:n}=e;return t?Object(o.b)(i.a._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:t}).join(""):n?Object(o.b)(i.a._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:n}).join(""):null}},qUSw:function(e,t,n){function i(e,t){return{type:"UPDATE_ACTIVITY_ITEM_COMMENT_COUNT",payload:{increment:t,id:e}}}function o(e){return i(e,!1)}function r(e){return i(e,!0)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}))},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=(n("q1tI"),n("VJm5")),r=n("TSYQ"),a=n.n(r),s=n("qAg2"),c=n("RwJG"),l=n("n6mq");function d({onError:e,onLoad:t,pin:n}){const{title:o="",dominant_color:r,images:a={}}=n,s=a["474x"].width>a["474x"].height?a["736x"]:a["474x"];return Object(i.jsx)(l.e,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:Object(i.jsx)(l.e,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:c.a.storyPinImage}},children:Object(i.jsx)(l.w,{alt:o,color:r,naturalHeight:s.height,naturalWidth:s.width,onError:e,onLoad:t,src:s.url,fit:"cover"})})})}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:r,imageFit:c,lowResOnly:p,mediumResOnly:b,onError:h,onLoad:m,pin:j,saved:g=!1,animateGif:f})=>{const{carousel_data:O,description:y="",dominant_color:x,id:_,images:w}=j,T=Object(s.a)(j)||y;if(O)return Object(i.jsx)(o.a,{onError:h,onLoad:m,highResOnly:r,lowResOnly:p,pinId:_});let v,S="",I=0,E=0;if(w){let e=w["236x"];r?e=w["736x"]||w.orig||w["474x"]||w["236x"]:b&&(e=w["474x"]||w.orig||w["236x"]),I=e.height,E=e.width,S=e.url,v=p||b||r?e.url+" 1x":[w["236x"].url+" 1x",w["474x"]&&w["474x"].url+" 2x",w["736x"]&&w["736x"].url+" 3x",w.orig&&w.orig.url+" 4x"].filter(Boolean).join(", ")}if(f){const e=Math.max(j.embed&&j.embed.width||0,236),t=Math.max(j.embed&&j.embed.height||0,236),n=j.embed?j.embed.src:"";n&&(I=t,E=e,S=n,v="")}return Object(i.jsx)(l.e,{minHeight:u,display:"flex",alignItems:"center",children:Object(i.jsx)(l.e,{flex:"grow",children:Object(i.jsx)("div",{className:a()({savedGradient:g}),children:j.story_pin_data_id?Object(i.jsx)(d,{pin:j,onError:h,onLoad:m}):Object(i.jsx)(l.e,{height:t?e:void 0,width:t||void 0,children:Object(i.jsx)(l.w,{alt:T,color:"dominant"===n?x:n,fit:c,naturalHeight:I,naturalWidth:E,onError:h,onLoad:m,src:S,srcSet:v})})})})})}},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var i=n("nKUr"),o=(n("q1tI"),n("/MKj")),r=n("XSD5"),a=n("ZbwW"),s=n("0nTG"),c=n("U4JR"),l=n("4cTg"),d=n("n6mq");function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:b,isEditMode:h,pinId:m,viewParameter:j,viewType:g,variant:f}){const O=Object(o.useSelector)(({pins:e})=>e[m],o.shallowEqual),y=e||Object(a.a)(O),x=Object(o.useDispatch)();if(!y)return null;const _=(e,t,i)=>{h||void 0===r.a||(e.preventDefault(),e.stopPropagation(),x(Object(r.a)(String(m),i))),void 0!==p&&p(i),((e,t,n,i,o,r,a,l,d,u)=>{if(!u){const{carousel_slots:u,id:p}=o;Object(c.b)(108,{...d,objectId:t,component:l,view:a,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(s.f)(e)||{}})}})(O,m,t,i,y,j,g,n,u,h)},{carousel_slots:w=[],index:T}=y,v=void 0!==t?t:T,S="default"===f,I=S?"white":"#555",E=S?"rgba(255, 255, 255, 0.5)":"lightGray";return Object(i.jsx)(l.b.Consumer,{children:({viewportSize:e})=>"sm"===e?null:Object(i.jsx)(d.e,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:b?"end":"center",paddingY:h?1:0,children:[...Array(w.length).keys()].map(e=>Object(i.jsx)(d.e,{paddingX:1,children:Object(i.jsx)(d.T,{accessibilityLabel:w[e].title,fullWidth:!1,onTap:({event:t})=>_(t,v,e),rounding:"circle",children:Object(i.jsx)(d.e,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===v?I:E}},rounding:"circle"})})},m+e))})})}},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=n("q1tI"),r=n("Nle8"),a=n("eOdZ"),s=n("0nTG"),c=n("U4JR"),l=n("Y8Sn"),d=n("7jH2");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:p,viewType:b}){const[h,m]=Object(o.useState)(),[j,g]=Object(o.useState)(),{id:f,tracked_link:O,link:y}=n,x=O||y||"",_=()=>{m(!0)},w=Object(d.d)(Object(d.p)({pin:n})),T=Object(o.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(r.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:f,...u||{},...Object(s.f)(e)||{}})};return a.a.create("OffsiteLinkResource",i)})(n,x,!1).callGet({showError:!1}).then(e=>{e&&(Object(c.b)(12,{clickthrough_type:"rightClick",objectId:f,view:b,viewParameter:w,...u||{},...Object(s.f)(n)||{}}),Object(l.e)()&&Object(c.b)(8948,{click_type:"clickthrough",closeup_navigation_type:p&&Object(l.l)(p)?"deeplink":"click",clickthrough_type:"rightClick",view:b,objectId:f,viewParameter:w,...u||{},...Object(s.f)(n)||{}}))})}),v=()=>{h&&(T(),m(!1),window.removeEventListener(j,v,!1))};return Object(o.useEffect)(()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?g("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?g("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&g("webkitvisibilitychange")},[]),Object(o.useEffect)(()=>(h&&window&&window.addEventListener(j,v,!1),()=>window.removeEventListener(j,v)),[h,j]),Object(o.useEffect)(()=>(t&&window.addEventListener("contextmenu",_),()=>{window.removeEventListener("contextmenu",_)}),[t]),Object(i.jsx)(o.Fragment,{children:e})}},tMjw:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var i=n("nKUr"),o=(n("q1tI"),n("I7CA")),r=n("vcEN"),a=n("Ye/N"),s=n("n6mq");const c="#000000",l="#ffffff";function d({selected:e=!1}){return Object(i.jsx)(s.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?c:l,borderRadius:u,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}},children:e?Object(i.jsx)(s.e,{position:"absolute",bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:Object(i.jsx)(s.u,{accessibilityLabel:a.a._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):Object(i.jsx)(s.e,{position:"absolute",top:!0,right:!0,margin:3,children:Object(i.jsx)(s.u,{accessibilityLabel:a.a._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const u=16,p=4,b={wrapper:{borderRadius:u,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, 0.33)"},legoWashOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:a,primaryContentVisibility:c="none",secondaryContent:l,secondaryContentVisibility:u="none",accessoryContent:p,accessoryContentVisibility:h="none",actionBar:m,actionBarVisibility:j="none",footer:g,selectionState:f="no-selection",debugContent:O,signalDebuggerContent:y,signalDebuggerV2Content:x,signalDebuggerV2ContentVisibility:_="none",obscuredPinOverlay:w,showNoPinBorderRadius:T,showPromotedPinBorderTreatment:v,shouldUseLegoWash:S}){return Object(i.jsx)(s.e,{dangerouslySetInlineStyle:{__style:v?b.promotedPinBorderTreatment:{}},children:Object(i.jsxs)(s.e,{dangerouslySetInlineStyle:{__style:T?{}:b.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(f)&&Object(i.jsx)(d,{selected:"selected"===f}),Object(i.jsxs)(s.e,{dangerouslySetInlineStyle:{__style:T?{}:b.wrapper},overflow:"hidden",position:"relative",children:[e,Object(i.jsx)(r.a,{visibility:n,children:Object(i.jsx)(o.a,{additionalStyles:b.visualOverlay})}),Object(i.jsx)(r.a,{visibility:t,children:Object(i.jsx)(o.a,{additionalStyles:S?b.legoWashOverlay:b.savedOverlay})}),p&&Object(i.jsx)(r.a,{visibility:h,children:Object(i.jsx)(o.a,{children:p})}),l&&Object(i.jsx)(r.a,{visibility:u,children:Object(i.jsx)(o.a,{children:l})}),a&&Object(i.jsx)(r.a,{visibility:c,children:Object(i.jsx)(o.a,{additionalStyles:S?b.legoWashOverlay:void 0,children:a})}),x&&Object(i.jsx)(r.a,{visibility:_,children:Object(i.jsx)(o.a,{children:Object(i.jsx)(s.e,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:x})})}),m&&Object(i.jsx)(r.a,{visibility:j,children:Object(i.jsx)(o.a,{children:Object(i.jsx)(s.e,{position:"absolute",left:!0,right:!0,bottom:!0,children:m})})}),O&&Object(i.jsx)(o.a,{children:O}),y]}),g,w&&Object(i.jsx)(s.e,{children:w})]})})}},vcEN:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=(n("q1tI"),n("n6mq")),r=n("XLg/");function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=r.a,visibility:s}){return"none"!==s&&e?Object(i.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},vh5K:function(e,t,n){n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("mwIZ"),o=n.n(i),r=n("17x9"),a=n.n(r);a.a.shape({}),a.a.number.isRequired,a.a.string.isRequired,a.a.number.isRequired,a.a.arrayOf(a.a.string),a.a.number.isRequired;function s(e){return!!e&&0!==e.type}const c=(e,t,n)=>{const i=e[n];return t[n]&&s(i)?i:null};function l(e){return o()(e,["display_data","anchor"])}function d(e,t,n,i=!1,o=!1){if(i&&e&&t)return`${e}%3A${t}`;const r=n[e];if(r){if(r.experience_id===t)return r.id.replace(":","%3A")}else if(o&&e&&t)return`${e}%3A${t}`;return null}function u(e,t){t&&8===t.type&&(e[l(t)]=t)}},vpxy:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("9WJf"),s=n("ynlw"),c=n("078/");function l({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:i,carousel_data:o,grid_title:r,rich_summary:a,title:l}=t,{isOwnPin:d,isPromoted:u}=Object(s.a)(t);if(o){const{carousel_slots:e=[],index:t}=o;if(e[t]&&e[t].title)return e[t].title.trim()}if(u){if(c.a.includes(n))return r||"";if(d&&!e&&!o&&"UserProfilePinGrid"!==n)return"";const t=a&&"mobile application"!==a.type_name&&a.display_name,s=i&&i.title;return l||t||s||r||""}return r||""}const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n("JW66");var p=n("QLqj"),b=n("XPo3"),h=n("mVz+");function m({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:a,showPromotedVideos:s,surface:c}){let l="backend";"CloseupRelatedProducts"===c?l={height:h.a,width:h.b}:"TopicBestPinWide"===c?l={height:b.h,width:b.i}:"TopicBestPinNarrow"===c?l={height:b.b,width:b.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(c)?l={height:h.o,width:h.o}:o&&(l=o);const d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(c);let m="none";"string"!=typeof l&&(m="cover",(d||"ShoppingSquareGridCrop"===c&&n||"ShoppingDynamicHeightGrid"===c&&!r)&&(m="contain"));const j=d||"ShoppingDynamicHeightGrid"===c?"transparent":"dominant",g=(e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"})(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===p.c.getItem(u.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:j,imageFit:m,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=a?a:"default",rootMargin:g,pinImageCrop:l,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:s}}const j=["ShoppingCatalogsProductsMetadata"];var g=n("8A+h"),f=n("clxp");const O={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var y=n("1Fta"),x=n("Ye/N"),_=n("vvax");var w=n("63p3");var T=n("Zygf");var v=n("v/Q4"),S=n("gC5q"),I=n("T5j3"),E=n("Y8Sn"),P=n("ENhS"),C=n("gD/Z"),R=n("N89m"),k=n("EPem");const N=["CloseupRelatedProducts","ConversationView","CreatorProfilePinGrid","ProductPinsFeed","UserProfilePinGrid"];function A({attributionOption:e,board:t,boardActivityOptions:n,contentType:i,feedbackData:o,feedbackType:r,hasCarouselData:a,isGroupBoard:c,isOwnBoard:d,pin:u,showBoardActivityComments:p,showImageOnly:b,showNativeReactions:h,surface:m,viewer:j}){const{isPromoted:g}=Object(s.a)(u),{promoter:f,unified_user_note:O,pin_note:y}=u,x=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r}){const{is_downstream_promotion:a,native_creator:s,promoter:c,sponsorship:l}=i;if("promoted"===t||c&&!a||l)return"default";if(N.includes(r))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?d:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:r,isGroupBoard:c,pin:u,showImageOnly:b,surface:m}),_=b?"":l({isGroupBoard:c,pin:u,surface:m}),w=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(m)&&!g&&!b&&Boolean(Object(R.a)(u)),T="BaseBoardPinGrid"===m&&!g&&O?O.trim():null,v="BaseBoardPinGrid"===m&&y?y.text.trim():null,S=g,I="shopping"===i,E=/ShoppingSquareGridRelatedProducts/.test(m);let P=2;g?P=3:(w||"none"!==x)&&(P=I||E?2:1);let C,A;if(I||g&&E){var D,L;const e=null===(D=u.rich_summary)||void 0===D||null===(L=D.products)||void 0===L?void 0:L[0],{offer_summary:t}=e||{};C=t?t.standard_price:void 0,A=t?t.price||t.max_price:void 0}const B=I||["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(m)?20:30;let U;U=c?25:"CloseupRelatedProducts"===m?23:B;const M=Object(k.c)(u,j),G="CreatorProfilePinGrid"!==m,H=p;return{attributionType:x,contentType:i,feedbackData:o,feedbackType:r,isDarkPromoter:!g&&!!f,pinNoteText:v,pinTitle:_,productOriginalPrice:C,productCurrentPrice:A,showBoardActivityComments:p,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:a,showGroupBoardAvatar:c,showFavoriteButton:"BaseBoardPinGrid"===m&&d&&!!t&&!t.should_show_board_activity,showOverflowMenu:S,showPinStats:M,showNativeReactions:h,showSource:w,showTextContent:G,singleLineMaxLength:U,titleLines:P,useLegoPadding:H,userNote:T,board:t}}var D=n("g5OB"),L=n("W5T3"),B=n("QAzJ"),U=n("0S8y");const M=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","TopicBestPinNarrow","TopicBestPinWide"],G=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins"],H=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","ShoppingCatalogsProductsMetadata"];t.a=Object(r.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},groupBoardGridComments:n,pins:i},{pin:o,pinId:r}){const a=i[r]||o,s=a.board&&a.board.id,c=(s?t[""+s]:void 0)||a.board,{board_activity:l}=a;return{board:c,hasComments:!!(l&&l.id&&n&&n[l.id]&&n[l.id].length),isSocialSeasonalBoard:e,reduxPin:a}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:u,debugImpressionState:p,feedbackOptions:b,hasComments:h,imageOnlyOption:R="default",isSocialSeasonalBoard:k,pinImageCrop:N,pinImageFit:F,reduxPin:V,resolution:z="default",saveButtonOptions:q,surface:W,trackingParameters:Y,...K}){const{collaborated_by_me:X,collaborator_count:$,is_collaborative:J}=n||{},{pinner:Z,showFeedback:Q,sponsorship:ee}=V,te=Object(T.a)(V),ne=Object(v.a)(),{slotIndex:ie,viewParameter:oe}=Y,{anyEnabled:re}=Object(B.a)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(W)),ae=Object(r.useSelector)(({ui:e})=>e.views),se=Object(r.useSelector)(({ui:e})=>e),ce=se.app?se.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},le=Object(E.k)(V.id,ce),de=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(V),ue=Object(w.a)(V)||de,pe=ne.isAuth&&ne.isEmployee,be=ne.isAuth&&(Object(U.c)({user:ne})||Object(U.e)({user:ne}))&&!ne.isPartner;let he=be;"TodayArticleFeed"===W&&(he=!1),"default"!==R&&(he="image-only"===R),function(e){return c.c.includes(e)}(W)&&(he=!1);let me=t;be&&!me&&(me="image-only");const je=function({feedbackOptions:e,pin:t,viewParameter:n}){const{board:i,pinner:o}=t,{getFeedbackType:r}=Object(y.a)({i18n:x.a,interpolateNamedTemplate:_.b});return r({board:i,feedback:e,pin:t,pinner:o,viewParameter:n})}({feedbackOptions:b,pin:V,viewParameter:oe}),{data:ge}=b||{},fe=$>0||J,Oe=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=O[t];return!!n&&"dense"===e[n]}(ae,W),ye=fe&&"BaseBoardPinGrid"===W,xe=Object(g.a)(ne,n),_e=Boolean(ne.isAuth&&Z&&Z.id===ne.id),we=X||fe&&xe,Te=ne.isAuth&&ne.isPartner,ve=V.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==W,{anyEnabled:Se}=Object(B.a)("web_lego_save_flow",!["HomefeedMoreIdeasTabs"].includes(W)),Ie=Object(o.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isOwnPin:r,isQuickPromotable:s,isRemovable:l,saveButtonOptions:d,surface:u,viewer:p,viewerIsCollaborator:b,shouldUseLegoStyles:h}){const m=p.isAuth?p.boardCount:void 0;let g=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(m);s?g={type:"promote"}:(b||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&(g={type:"classic"}),i&&(g={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===u}),(l||j.includes(u))&&(g={type:"none"});const f=o&&!n,O=e&&Object(a.a)({action:4,board:e})||r;return{board:e,derivedSaveButtonOptions:g,showEditButton:Boolean(f||"UserProfilePinGrid"===u&&O),showLikeButton:b&&n&&c.d.includes(u),supportsReactionBar:!t,shouldUseLegoStyles:h}}({isDenseView:Oe,isGroupBoard:ye,isOwnBoard:xe,isOwnPin:_e,isQuickPromotable:ve,isRemovable:te,saveButtonOptions:q,surface:W,viewer:ne,viewerIsCollaborator:we,board:n,isInlineBetterSave:re,shouldUseLegoStyles:Se}),[ye,xe,_e,ve,te,q,W,ne,n,re,Se]),{isPromoted:Ee}=Object(s.a)(V),{anyEnabled:Pe,group:Ce}=Object(B.c)("web_shopping_grid_labels");let Re;Pe&&["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(W)&&!Ee&&(["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(Ce)?Re="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(Ce)&&(Re="white"));const ke=Object(o.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:c.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:de,shoppingLabelColor:Re,surface:W}),[de,Re,W]),Ne=ue,Ae=Object(o.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:r,pin:c,surface:u}){const p=Boolean(null==e?void 0:e.is_collaborative),{isOwnPin:b,isPromoted:h}=Object(s.a)(c),m=l({isGroupBoard:o,pin:c,surface:u}),j=e&&Object(a.a)({action:4,board:e})||b;let g="default";return i&&(g=o?"icon-only":"truncated-text"),{actionBarEditBeforeShare:p,feedbackData:t,feedbackType:n,layout:o&&i?"equally-spaced":"default",pinTitle:m,showEditButton:o&&j,showOverflowMenu:!(h||r||o||d.includes(u)),showShareButton:"CloseupRelatedProducts"!==u,sourceLinkStyle:g}}({board:n,feedbackData:ge,feedbackType:je,isDenseView:Oe,isGroupBoard:ye,isOwnBoard:xe,pin:V,surface:W}),[n,ge,je,Oe,ye,xe,V,W]),{anyEnabled:De}=Object(B.a)("web_deprecate_expanded_gb_comment_in_pin_grid",n&&n.is_collaborative),Le=!(!(n&&n.is_collaborative&&"BaseBoardPinGrid"===W&&h)||De),Be=!Ee&&["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(W)?"shopping":"standard",Ue=Object(I.c)(V),Me=Object(o.useMemo)(()=>A({attributionOption:me,board:n,boardActivityOptions:u,contentType:Be,feedbackData:ge,feedbackType:je,hasCarouselData:ue,isGroupBoard:ye,isOwnBoard:xe,pin:V,showBoardActivityComments:Le,showImageOnly:he,showNativeReactions:Ue,surface:W,viewer:ne}),[me,n,u,ge,je,ue,ye,xe,V,Le,he,W,ne]),Ge=Boolean(Me.pinTitle)||Me.contentType||Me.userNote||Me.showSource||"none"!==Me.attributionType||Me.showNativeReactions||Me.productCurrentPrice||Me.productOriginalPrice||Me.showPinStats,{anyEnabled:He}=Object(B.a)("mweb_web_sponsored_pins",!!ee);let Fe=Ge||ye;"BaseBoardPinGrid"===W&&xe&&Te||ee&&He?Fe=!0:M.includes(W)||Oe&&xe||k?Fe=!1:_e||"CreatorProfilePinGrid"!==W||(Fe=!1);const Ve=Boolean(Q),{anyEnabled:ze,customActivate:qe}=Object(B.b)("web_others_board_feed_ads_border");let We=!1;"BaseBoardPinGrid"===W&&Ee&&(We=ze,qe());const Ye={showNoPinBorderRadius:"TopicBestPinNarrow"===W||"TopicBestPinWide"===W,showPromotedPinBorderTreatment:We,shouldUseLegoWash:!!Se},{anyEnabled:Ke}=Object(B.a)("hfp_homefeed_control_cta_variants"),Xe=Ve?{feedbackType:je,isHomefeedTunerVariantExp:Ke}:void 0,{anyEnabled:$e}=Object(B.c)("ads_desktop_video_ads"),Je=N&&"string"!=typeof N?[N.height,N.width]:[N],Ze=Object(o.useMemo)(()=>m({hasCarouselData:ue,isDenseView:Oe,isPromoted:Ee,isSocialSeasonalBoard:k,pinImageCrop:N,pinImageFit:F,resolution:z,showPromotedVideos:$e,surface:W}),[ue,Oe,k,z,$e,W,...Je]),Qe=pe&&Object(L.a)(),et=Object(o.useMemo)(()=>({debugImpressionState:p,slotIndex:ie}),[p,ie]);return Object(i.jsx)(f.a,{name:"PinRepConfiguration",children:Object(i.jsx)(C.a,{value:Y,children:Object(i.jsx)(P.a,{value:{surface:W},children:Object(i.jsx)(D.b,{actionBarProps:Ae,blockClickEvents:e,currentlyPlayingVideo:le,footerProps:Me,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(W),impressionsDebuggerProps:et,obscuredPinOverlayProps:Xe,pin:V,pinVisualProps:Ze,presentationProps:Ye,primaryContentProps:Ie,secondaryContentProps:ke,showAccessoryContent:Ne,showActionBar:!H.includes(W),showFooter:Fe,showImpressionsDebugger:Qe,showObscuredPinOverlay:Ve,showPrimaryAndSecondaryContent:!G.includes(W),showSignalDebugger:pe,surface:W,...Object(S.b)(K,["pinId"])})})})})}))},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=(n("q1tI"),n("Ye/N")),r=n("US8k"),a=n("n6mq");function s({duration:e}){return Object(i.jsxs)(a.e,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(i.jsx)(a.u,{accessibilityLabel:o.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(i.jsx)(a.e,{marginStart:1,children:Object(i.jsx)(a.U,{color:"white",size:"sm",truncate:!0,children:Object(r.a)(e)})})]})}},zq6P:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=Object(i.createContext)(Object.freeze({})),r=o.Provider;function a(){return Object(i.useContext)(o)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/96-990535c6e417f40420a1.mjs.map